import{i as T}from"./legacy.CS2Xrhg9.js";import{aN as me,aO as ge,p as z,l as y,c as N,a as H,t as L,g as f,b as D,m as M,f as O,s as ke,d as q,e as pe,r as _e,ae as Q,j as Y}from"./effects.BhUQh3a6.js";import{t as Ce,o as ye,g as we,m as Z,h as I,j as Ae,d as ee,k as te,s as Se,l as $e,a as ie,b as ae}from"./create.DJFv7QJ3.js";import{l as w,p as d,s as ce}from"./props.B2sXXNEW.js";import{a as S,t as R,c as W,e as se}from"./template.gBe-IW8Y.js";import{r as qe,a as V,i as U}from"./attributes.Bzn9xiO9.js";import{b as X,s as B}from"./this.CmfLgYlZ.js";import{s as F,a as A}from"./store.Cu8l1F6D.js";import{w as xe}from"./index.Syity6yz.js";import{a as Ee,r as Pe,g as Ne,c as Me}from"./updater.1_cAstJq.js";import{c as ne}from"./utils.CC9b3hXT.js";const Oe={defaultChecked:!1,disabled:!1,required:!1,name:"",value:""},{name:re}=$e("switch");function Te(l){const e={...Oe,...l},v=Ce(ye(e,"checked")),{disabled:u,required:a,name:n,value:s}=v,r=e.checked??xe(e.defaultChecked),t=we(r,e?.onCheckedChange);function _(){u.get()||t.update(i=>!i)}const C=Z(re(),{stores:[t,u,a],returned:([i,k,c])=>({"data-disabled":I(k),disabled:I(k),"data-state":i?"checked":"unchecked",type:"button",role:"switch","aria-checked":i?"true":"false","aria-required":c?"true":void 0}),action(i){return{destroy:Ae(ee(i,"click",()=>{_()}),ee(i,"keydown",c=>{c.key!==te.ENTER&&c.key!==te.SPACE||(c.preventDefault(),_())}))}}}),g=Z(re("input"),{stores:[t,n,a,u,s],returned:([i,k,c,b,m])=>({type:"checkbox","aria-hidden":!0,hidden:!0,tabindex:-1,name:k,value:m,checked:i,required:c,disabled:I(b),style:Se({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"})})});return{elements:{root:C,input:g},states:{checked:t},options:v}}function oe(){return{NAME:"switch",PARTS:["root","input","thumb"]}}function ze(l){const{NAME:e,PARTS:v}=oe(),u=Ee(e,v),a={...Te(Pe(l)),getAttrs:u};return me(e,a),{...a,updateOption:Ne(a.options)}}function de(){const{NAME:l}=oe();return ge(l)}var De=R("<input>");function Re(l,e){const v=w(e,["children","$$slots","$$events","$$legacy"]),u=w(v,["el"]);z(e,!1);const a=F(),n=()=>A(k,"$value",a),s=()=>A(i,"$input",a),r=()=>A(c,"$name",a),t=()=>A(b,"$disabled",a),_=()=>A(m,"$required",a),C=M();let g=d(e,"el",28,()=>{});const{elements:{input:i},options:{value:k,name:c,disabled:b,required:m}}=de();y(()=>n(),()=>{N(C,n()===void 0||n()===""?"on":n())}),H(),T();var h=De();qe(h);let $;X(h,x=>g(x),()=>g()),ie(h,x=>s().action?.(x)),L(()=>$=V(h,$,{...s(),name:r(),disabled:t(),required:_(),value:f(C),...u})),S(l,h),D()}var je=R("<button><!></button>"),Ie=R("<!> <!>",1);function We(l,e){const v=w(e,["children","$$slots","$$events","$$legacy"]),u=w(v,["checked","onCheckedChange","disabled","name","value","includeInput","required","asChild","inputAttrs","el"]);z(e,!1);const a=F(),n=()=>A($,"$root",a),s=M(),r=M();let t=d(e,"checked",28,()=>{}),_=d(e,"onCheckedChange",24,()=>{}),C=d(e,"disabled",24,()=>{}),g=d(e,"name",24,()=>{}),i=d(e,"value",24,()=>{}),k=d(e,"includeInput",8,!0),c=d(e,"required",24,()=>{}),b=d(e,"asChild",8,!1),m=d(e,"inputAttrs",24,()=>{}),h=d(e,"el",28,()=>{});const{elements:{root:$},states:{checked:x},updateOption:E,getAttrs:le}=ze({disabled:C(),name:g(),value:i(),required:c(),defaultChecked:t(),onCheckedChange:({next:o})=>(t()!==o&&(_()?.(o),t(o)),o)}),G=Me();y(()=>q(t()),()=>{t()!==void 0&&x.set(t())}),y(()=>q(C()),()=>{E("disabled",C())}),y(()=>q(g()),()=>{E("name",g())}),y(()=>q(i()),()=>{E("value",i())}),y(()=>q(c()),()=>{E("required",c())}),y(()=>n(),()=>{N(s,n())}),y(()=>q(t()),()=>{N(r,{...le("root"),"data-checked":t()?"":void 0})}),y(()=>(f(s),f(r)),()=>{Object.assign(f(s),f(r))}),H(),T();var J=Ie(),K=O(J);{var ue=o=>{var p=W(),P=O(p);B(P,e,"default",{get builder(){return f(s)}},null),S(o,p)},he=o=>{var p=je();let P;var be=pe(p);B(be,e,"default",{get builder(){return f(s)}},null),_e(p),X(p,j=>h(j),()=>h()),ie(p,j=>f(s).action?.(j)),Q(()=>se("m-click",p,G)),Q(()=>se("m-keydown",p,G)),L(()=>P=V(p,P,{...f(s),type:"button",...u})),S(o,p)};U(K,o=>{b()?o(ue):o(he,!1)})}var fe=ke(K,2);{var ve=o=>{Re(o,ce(m))};U(fe,o=>{k()&&o(ve)})}S(l,J),D()}var Ue=R("<span></span>");function Be(l,e){const v=w(e,["children","$$slots","$$events","$$legacy"]),u=w(v,["asChild","el"]);z(e,!1);const a=F(),n=()=>A(_,"$checked",a),s=M();let r=d(e,"asChild",8,!1),t=d(e,"el",28,()=>{});const{states:{checked:_},getAttrs:C}=de();y(()=>n(),()=>{N(s,{...C("thumb"),"data-state":n()?"checked":"unchecked","data-checked":n()?"":void 0})}),H(),T();var g=W(),i=O(g);{var k=b=>{var m=W(),h=O(m);B(h,e,"default",{get attrs(){return f(s)},get checked(){return n()}},null),S(b,m)},c=b=>{var m=Ue();let h;X(m,$=>t($),()=>t()),L(()=>h=V(m,h,{...u,...f(s)})),S(b,m)};U(i,b=>{r()?b(k):b(c,!1)})}S(l,g),D()}function et(l,e){const v=w(e,["children","$$slots","$$events","$$legacy"]),u=w(v,["class","checked"]);z(e,!1);let a=d(e,"class",24,()=>{}),n=d(e,"checked",28,()=>{});T();var s=Y(()=>ne("focus-visible:ring-ring focus-visible:ring-offset-background data-[state=checked]:bg-primary data-[state=unchecked]:bg-input peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a()));We(l,ce({get class(){return f(s)}},()=>u,{get checked(){return n()},set checked(r){n(r)},$$events:{click(r){ae.call(this,e,r)},keydown(r){ae.call(this,e,r)}},children:(r,t)=>{var _=Y(()=>ne("bg-background pointer-events-none block h-5 w-5 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"));Be(r,{get class(){return f(_)}})},$$slots:{default:!0},$$legacy:!0})),D()}export{et as S};
