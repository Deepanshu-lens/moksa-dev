import{i as le}from"./legacy.B9Y3TeRD.js";import{f as j,C as rn,aM as sn,aN as an,p as ce,l as re,d as ue,a as Ze,b as de,s as Z,g as d,j as W,c as ve,m as Ne,aZ as Vt,aL as je,i as F,r as B,t as Me,w as mt}from"./effects.D69rIdB6.js";import{c as G,a as _,t as X,b as Rt,e as _e}from"./template.BAXcjkkR.js";import{i as fe,a as Wt,s as He,c as ln}from"./attributes.CKLvY0ho.js";import{l as Y,s as ge,p as C}from"./props.B5ES_xWj.js";import{s as Qe,a as se,m as Dt,d as Tt}from"./store.LwFfO3GU.js";import"./pb.BjVtZEqq.js";import{s as cn,c as dn}from"./camera.tm09y8tp.js";import{n as un,s as fn}from"./node.BMRk-V2q.js";import{i as Pt}from"./ui.BlnsDfWm.js";import{t as ct}from"./Toaster.svelte_svelte_type_style_lang.BVmv9t-o.js";import{s as Je}from"./render.DCBExBlY.js";import{e as Yt,i as qt}from"./each.Btj6gPjv.js";import{s as te,b as Xt}from"./this.Dn7i68im.js";import{I as Kt}from"./Icon.DyX5DrYz.js";import{l as gn}from"./live-events.C0Ws_CpH.js";import{b as dt}from"./create.CgS1Srs1.js";import{d as Le,w as me,g as c,a as mn}from"./index.PDEF5wc2.js";import{d as vn,e as pn,f as hn,c as At,h as It,i as bn,j as $n}from"./index.DgIroXGH.js";import{a as wn,o as Gt}from"./index-client.Bg2DNXcU.js";import{E as xn}from"./EventAlertModal.C9rJGOme.js";import{c as et}from"./utils.7i5Ab_63.js";import{R as yn}from"./register-mobile-dialog.DbePOZqx.js";import{I as _n,h as Lt,S as Sn}from"./html2canvas.esm.DtDHJ18r.js";import{J as Pn}from"./jszip.min.H6nIsZ3p.js";import{I as bt}from"./Icon.C1EnY7QC.js";import{s as ut}from"./class.aRYY48yX.js";import{R as kn}from"./radio.CqnHYhyu.js";import{C as Dn}from"./calendar.Bz5M1WId.js";import"./html.BWhCu3F8.js";import"./updater.DZYzlJzt.js";import"./index.Dc6kRK_F.js";import"./x.rUR2l-6P.js";import"./focus.CV-Hft-j.js";import"./index.eroqfLhH.js";import"./input.wlVNyH1y.js";import"./input.skk1M_av.js";import"./index.B4oxMXhh.js";import"./user.DTKNVqgd.js";import"./userLogs.FmCv2qlm.js";import"./userDetails.C512u9q6.js";import"./dialog-description.DLfF4S9z.js";import"./chevron-down.C5AO3RM7.js";import"./dialog-footer.Cr4M3bkH.js";function Tn(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]);bt(t,ge({name:"bell"},()=>n,{iconNode:[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"}]],children:(r,a)=>{var i=G(),s=j(i);te(s,e,"default",{},null),_(r,i)},$$slots:{default:!0}}))}function On(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]);bt(t,ge({name:"circle-play"},()=>n,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["polygon",{points:"10 8 16 12 10 16 10 8"}]],children:(r,a)=>{var i=G(),s=j(i);te(s,e,"default",{},null),_(r,i)},$$slots:{default:!0}}))}function En(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]);bt(t,ge({name:"image"},()=>n,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]],children:(r,a)=>{var i=G(),s=j(i);te(s,e,"default",{},null),_(r,i)},$$slots:{default:!0}}))}function Cn(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]);bt(t,ge({name:"video"},()=>n,{iconNode:[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2"}]],children:(r,a)=>{var i=G(),s=j(i);te(s,e,"default",{},null),_(r,i)},$$slots:{default:!0}}))}function Rn(t){return function(e,n){if(n===void 0)return;const o=t[e];o&&o.set(n)}}const V={DURATION:.5,EASE:[.32,.72,0,1]},Jt=.4;function xe(t,e){if(typeof document>"u")return()=>{};const n=An(t,(o,r)=>({stores:o,onUnsubscribe:r})).subscribe(({stores:o,onUnsubscribe:r})=>{const a=e(o);a&&r(a)});return Zt(n),n}function An(t,e){let n=[];const o=s=>{n.push(s)},r=()=>{n.forEach(s=>s()),n=[]},a=Le(t,s=>(r(),e(s,o)));return Zt(r),{...a,subscribe:(...s)=>{const u=a.subscribe(...s);return()=>{u(),r()}}}}const Zt=t=>{try{wn(t)}catch{return t()}},Mt=(t,e)=>{const n=(r,a)=>{t.update(i=>{const s=r(i);let u=s;return e&&(u=e({curr:i,next:s})),a?.(u),u})};return{...t,update:n,set:r=>{n(()=>r)}}};function In(t){const e={};return Object.keys(t).forEach(n=>{const o=n,r=t[o];e[o]=me(r)}),e}function Ln(t,...e){const n={};for(const o of Object.keys(t))e.includes(o)||(n[o]=t[o]);return n}function Mn(t){const e={};for(const n in t){const o=t[n];o!==void 0&&(e[n]=o)}return e}const Qt=new WeakMap;function q(t,e,n=!1){if(!t||!(t instanceof HTMLElement)||!e)return;const o={};Object.entries(e).forEach(([r,a])=>{if(r.startsWith("--")){t.style.setProperty(r,a);return}o[r]=t.style[r],t.style[r]=a}),!n&&Qt.set(t,o)}function Ge(t,e){if(!t||!(t instanceof HTMLElement))return;const n=Qt.get(t);n&&(e?t.style[e]=n[e]:Object.entries(n).forEach(([o,r])=>{t.style[o]=r}))}function ft(t,e){const n=window.getComputedStyle(t),o=n.transform||n.webkitTransform||n.mozTransform;let r=o.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[ee(e)?13:12]):(r=o.match(/^matrix\((.+)\)$/),r?parseFloat(r[1].split(", ")[ee(e)?5:4]):null)}function Nn(t){return Object.keys(t).reduce((e,n)=>t[n]===void 0?e:e+`${n}:${t[n]};`,"")}function kt(){}function Oe(t,e,n,o){const r=Array.isArray(e)?e:[e];return r.forEach(a=>t.addEventListener(a,n,o)),()=>{r.forEach(a=>t.removeEventListener(a,n,o))}}const Bn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),zn=typeof document<"u";function vt(t){return t instanceof HTMLInputElement&&!Bn.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function ee(t){return t==="top"||t==="bottom"}function Nt(t){return t==="bottom"||t==="right"}function pt(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Fn(t){return new Promise(e=>setTimeout(e,t))}function Hn({activeSnapPoint:t,snapPoints:e,drawerRef:n,overlayRef:o,fadeFromIndex:r,openTime:a,direction:i}){const s=Le([e,t],([h,$])=>$===h?.[h.length-1]),u=Le([e,r,t],([h,$,l])=>h&&h.length>0&&($||$===0)&&!Number.isNaN($)&&h[$]===l||!h),g=Le([e,t],([h,$])=>h?.findIndex(l=>l===$)??null),p=Le(e,h=>h?h.map($=>{const l=typeof window<"u",k=typeof $=="string";let S=0;k&&(S=parseInt($,10));const O=c(i);if(ee(O)){const D=k?S:l?$*window.innerHeight:0;return l?O==="bottom"?window.innerHeight-D:window.innerHeight+D:D}const M=k?S:l?$*window.innerWidth:0;return l?O==="right"?window.innerWidth-M:window.innerWidth+M:M}):[]),b=Le([p,g],([h,$])=>$!==null?h?.[$]:null);xe([t,n],([h,$])=>{if(h&&$){const l=c(e),k=c(p),S=l?.findIndex(O=>O===h)??-1;k&&S!==-1&&typeof k[S]=="number"&&f(k[S])}});function f(h){rn().then(()=>{const $=c(p),l=$?.findIndex(D=>D===h)??null,k=c(n),S=c(i);N(l),q(k,{transition:`transform ${V.DURATION}s cubic-bezier(${V.EASE.join(",")})`,transform:ee(S)?`translate3d(0, ${h}px, 0)`:`translate3d(${h}px, 0, 0)`});const O=c(r),M=c(o);l!==$.length-1&&l!==O?q(M,{transition:`opacity ${V.DURATION}s cubic-bezier(${V.EASE.join(",")})`,opacity:"0"}):q(M,{transition:`opacity ${V.DURATION}s cubic-bezier(${V.EASE.join(",")})`,opacity:"1"}),t.update(()=>{const D=c(e);return l===null||!D?null:D[l]})})}function I({draggedDistance:h,closeDrawer:$,velocity:l,dismissible:k}){const S=c(r);if(S===void 0)return;const O=c(b),M=c(g),D=c(o),x=c(p),y=c(e),A=c(i),R=A==="bottom"||A==="right"?(O??0)-h:(O??0)+h,ne=M===S-1,J=M===0,ae=h>0;if(ne&&q(D,{transition:`opacity ${V.DURATION}s cubic-bezier(${V.EASE.join(",")})`}),l>2&&!ae){k?$():f(x[0]);return}if(l>2&&ae&&x&&y){f(x[y.length-1]);return}const oe=x?.reduce((K,H)=>typeof K!="number"||typeof H!="number"?K:Math.abs(H-R)<Math.abs(K-R)?H:K),he=ee(A)?window.innerHeight:window.innerWidth;if(l>Jt&&Math.abs(h)<he*.4){const K=ae?1:-1;if(K>0&&c(s)&&y){f(x[y.length-1]);return}if(J&&K<0&&k&&$(),M===null)return;f(x[M+K]);return}f(oe)}function P({draggedDistance:h}){const $=c(n),l=c(b);if(l===null)return;const k=c(p),S=c(i),O=S==="bottom"||S==="right"?l-h:l+h,M=k[k.length-1];Nt(S)&&O<M||!Nt(S)&&O>M||q($,{transform:ee(S)?`translate3d(0, ${O}px, 0)`:`translate3d(${O}px, 0, 0)`})}function T(h,$){const l=c(g),k=c(p),S=c(e),O=c(r);if(!S||typeof l!="number"||!k||O===void 0)return null;const M=l===O-1;if(l>=O&&$)return 0;if(M&&!$)return 1;if(!c(u)&&!M)return null;const x=M?l+1:l-1,y=M?k[x]-k[x-1]:k[x+1]-k[x],A=h/Math.abs(y);return M?1-A:A}function N(h){const $=c(e),l=c(p);$&&h===l.length-1&&a.set(new Date)}return{isLastSnapPoint:s,shouldFade:u,getPercentageDragged:T,activeSnapPointIndex:g,onRelease:I,onDrag:P,snapPointsOffset:p}}function jn(){return Ot(/^Mac/)}function Un(){return Ot(/^iPhone/)}function Vn(){return Ot(/^iPad/)||jn()&&navigator.maxTouchPoints>1}function en(){return Un()||Vn()}function Ot(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const yt=typeof document<"u"&&window.visualViewport;function Bt(t){const e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function tn(t){for(Bt(t)&&(t=t.parentElement);t&&!Bt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}let gt=0,_t;function Wn(){return typeof document>"u"?()=>{}:(gt++,gt===1&&(en()?_t=Kn():_t=Xn()),()=>{gt--,gt===0&&_t()})}function Yn(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function qn(t,e,n){if(!t)return;const o=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{o?t.style.setProperty(e,o):t.style.removeProperty(e)}}function Xn(){if(typeof document>"u")return()=>{};const t=document.defaultView??window,{documentElement:e,body:n}=document,o=t.innerWidth-e.clientWidth,r=()=>qn(e,"--scrollbar-width",`${o}px`),a=Yn(e),i=t.getComputedStyle(n)[a];return pt(r(),ht(n,a,`calc(${i} + ${o}px)`),ht(n,"overflow","hidden"))}function Kn(){let t,e=0;const{documentElement:n,body:o,activeElement:r}=document;function a(P){t=tn(P.target),!(t===n&&t===o)&&(e=P.changedTouches[0].pageY)}function i(P){if(!t||t===n||t===o){P.preventDefault();return}const T=P.changedTouches[0].pageY,N=t.scrollTop,h=t.scrollHeight-t.clientHeight;h!==0&&((N<=0&&T>e||N>=h&&T<e)&&P.preventDefault(),e=T)}function s(P){const T=P.target;vt(T)&&T!==r&&(P.preventDefault(),T.style.transform="translateY(-2000px)",T.focus(),requestAnimationFrame(()=>{T.style.transform=""}))}function u(P){const T=P.target;vt(T)&&(T.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{T.style.transform="",yt&&(yt.height<window.innerHeight?requestAnimationFrame(()=>{zt(T)}):yt.addEventListener("resize",()=>zt(T),{once:!0}))}))}function g(){window.scrollTo(0,0)}const p=window.pageXOffset,b=window.pageYOffset,f=pt(ht(n,"paddingRight",`${window.innerWidth-n.clientWidth}px`),ht(n,"overflow","hidden"));window.scrollTo(0,0);const I=pt(Oe(document,"touchstart",a,{passive:!1,capture:!0}),Oe(document,"touchmove",i,{passive:!1,capture:!0}),Oe(document,"touchend",s,{passive:!1,capture:!0}),Oe(document,"focus",u,!0),Oe(window,"scroll",g));return()=>{f(),I(),window.scrollTo(p,b)}}function ht(t,e,n){const o=t.style[e];return t.style[e]=n,()=>{t.style[e]=o}}function zt(t){const{documentElement:e,body:n,scrollingElement:o}=document,r=o||e;for(;t&&t!==r;){const a=tn(t);if(a!==e&&a!==n&&a!==t){const i=a.getBoundingClientRect().top,s=t.getBoundingClientRect().top,u=t.getBoundingClientRect().bottom,g=a.getBoundingClientRect().bottom;u>g&&(a.scrollTop+=s-i)}t=a.parentElement}}const Gn=mn(void 0,t=>{function e(o){o&&o.key==="Escape"&&t(o),t(void 0)}return Oe(document,"keydown",e,{passive:!1})});function Jn(t,e){let n=kt;function o(r){n(),n=pt(Gn.subscribe(a=>{if(!a)return;const i=a.target;!Zn(i)||i.closest("[data-escapee]")!==t||(a.preventDefault(),r(a))})),t.setAttribute("data-escapee","")}return o(e),()=>{n(),t.removeAttribute("data-escapee")}}function Zn(t){return t instanceof HTMLElement}let Te=null;function Qn({isOpen:t,modal:e,nested:n,hasBeenOpened:o}){const r=me(typeof window<"u"?window.location.href:"");let a=0;function i(u){if(!(Te===null&&u))return;Te={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:g,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),document.body.style.top=`${-a}px`,document.body.style.left=`${-g}px`,document.body.style.right="0px",document.body.style.height="auto",setTimeout(()=>requestAnimationFrame(()=>{const b=p-window.innerHeight;b&&a>=p&&(document.body.style.top=`${-(a+b)}px`)}),300)}function s(){if(Te===null)return;const u=c(r),g=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);document.body.style.position=Te.position,document.body.style.top=Te.top,document.body.style.left=Te.left,document.body.style.height=Te.height,document.body.style.right="unset",requestAnimationFrame(()=>{if(u!==window.location.href){r.set(window.location.href);return}window.scrollTo(p,g)}),Te=null}return Gt(()=>{function u(){a=window.scrollY}return u(),Oe(window,"scroll",u),()=>{}}),xe([t,r],([u,g])=>{typeof document>"u"||c(n)||!c(o)||(u?(i(u),c(e)||setTimeout(()=>{s()},500)):s())}),{restorePositionSetting:s}}const eo=.25,to=100,Ft=8,Ie=16,nn=26,Ht="vaul-dragging",St=me([]),no={closeThreshold:eo,shouldScaleBackground:!0,scrollLockTimeout:to,onDrag:void 0,onRelease:void 0,snapPoints:void 0,fadeFromIndex:void 0,defaultActiveSnapPoint:void 0,onActiveSnapPointChange:void 0,defaultOpen:!1,onOpenChange:void 0,fixed:void 0,dismissible:!0,modal:!0,nested:!1,onClose:void 0,direction:"bottom"},oo=["defaultOpen","onOpenChange","defaultActiveSnapPoint","onActiveSnapPointChange","onDrag","onRelease","onClose"];function ro(t){const{snapPoints:e,fadeFromIndex:n=e&&e.length-1,...o}={...no,...Mn(t)},r=In(Ln({...o,snapPoints:e,fadeFromIndex:n},...oo)),a=me(void 0),{onDrag:i,onRelease:s,onClose:u,onOpenChange:g}=o,{snapPoints:p,fadeFromIndex:b,fixed:f,dismissible:I,modal:P,nested:T,shouldScaleBackground:N,scrollLockTimeout:h,closeThreshold:$,direction:l}=r,k=me(o.defaultOpen),S=Mt(k,o.onOpenChange),O=me(!1),M=me(!1),D=me(!1),x=me(void 0),y=me(null),A=me(!1),R=me(void 0),ne=me(void 0);let J=!1,ae=null,oe=!1,he=0,K=null,H=null,L=!1,ie=c(R)?.getBoundingClientRect().height||0,ke=0,Ee=0,ye=null;const De=Mt(me(o.defaultActiveSnapPoint),o.onActiveSnapPointChange),{activeSnapPointIndex:tt,getPercentageDragged:$t,onDrag:$e,onRelease:ze,shouldFade:Ue,snapPointsOffset:Ce}=Hn({snapPoints:p,activeSnapPoint:De,drawerRef:R,fadeFromIndex:b,overlayRef:x,openTime:y,direction:l}),nt=Le([Ce],([m])=>(v="")=>{if(m&&m.length>0){const w=Nn({"--snap-point-height":`${m[0]}px`});return v+w}return v});xe([R],([m])=>{m&&ne.set(m.id)}),xe([S],([m])=>{Fn(100).then(()=>{const v=c(ne);m&&v?St.update(w=>(w.includes(v)||w.push(v),w)):St.update(w=>w.filter(E=>E!==E))})}),xe([S],([m])=>{if(!m&&c(N)){const v=setTimeout(()=>{Ge(document.body,"background")},200);return()=>clearTimeout(v)}}),xe([S],([m])=>{let v=()=>{};return m&&(v=Wn()),v});const{restorePositionSetting:Ve}=Qn({isOpen:S,modal:P,nested:T,hasBeenOpened:O});xe([R],([m])=>{let v=kt;return m&&(v=Jn(m,()=>{Se(!0)})),()=>{v()}});function We(){oe||(O.set(!0),S.set(!0))}function ot(m){const v=c(R);!c(I)&&!c(p)||v&&!v.contains(m.target)||(ie=v?.getBoundingClientRect().height||0,J=!0,ae=new Date,en()&&window.addEventListener("touchend",()=>L=!1,{once:!0}),m.target.setPointerCapture(m.pointerId),he=ee(c(l))?m.screenY:m.screenX)}function rt(m,v){const w=c(R);let E=m;const U=window.getSelection()?.toString(),z=c(l),Q=w?ft(w,z):null,pe=new Date;if(E.hasAttribute("data-vaul-no-drag")||E.closest("[data-vaul-no-drag]"))return!1;const be=c(y);if(be&&pe.getTime()-be.getTime()<500)return!1;if(Q!==null&&(z==="bottom"||z==="right"?Q>0:Q<0)||Q!==null&&Q>0)return!0;if(U&&U.length>0)return!1;const we=c(h);if(H&&pe.getTime()-H.getTime()<we&&Q===0||v)return H=pe,!1;for(;E;){if(E.scrollHeight>E.clientHeight){if(E.scrollTop!==0)return H=new Date,!1;if(E.getAttribute("role")==="dialog")return!0}E=E.parentNode}return!0}function st(m){const v=c(R);if(!v||!J)return;const w=c(l),E=Ut(w),U=jt(he,w,m)*E,z=U>0,Q=c(tt),pe=c(p);if(pe&&Q===0&&!c(I)||!L&&!rt(m.target,z))return;v.classList.add(Ht),L=!0,q(v,{transition:"none"});const be=c(x);if(q(be,{transition:"none"}),pe&&$e({draggedDistance:U}),z&&!pe){const Ae=so(U),lt=Math.min(Ae*-1,0)*E;q(v,{transform:ee(w)?`translate3d(0, ${lt}px, 0)`:`translate3d(${lt}px, 0, 0)`});return}const we=Math.abs(U);let Pe=we/ie;const it=$t(we,z);it!==null&&(Pe=it);const Re=1-Pe,Ke=c(b);(c(Ue)||Ke&&Q===Ke-1)&&(i?.(m,Pe),q(be,{opacity:`${Re}`,transition:"none"},!0));const Et=document.querySelector("[data-vaul-drawer-wrapper]");if(Et&&be&&c(N)){const Ae=Math.min(Fe()+Pe*(1-Fe()),1),lt=8-Pe*8,Ct=Math.max(0,14-Pe*14);q(Et,{borderRadius:`${lt}px`,transform:ee(w)?`scale(${Ae}) translate3d(0, ${Ct}px, 0)`:`scale(${Ae}) translate3d(${Ct}px, 0, 0)`,transition:"none"},!0)}if(!pe){const Ae=we*E;q(v,{transform:ee(w)?`translate3d(0, ${Ae}px, 0)`:`translate3d(${Ae}px, 0, 0)`})}}function Ye(m,v="black"){const w=document.querySelector("[data-vaul-drawer-wrapper]");if(!w||!c(N))return;const E=c(l);m?(q(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),q(document.body,{background:v},!0),q(w,{borderRadius:`${Ft}px`,overflow:"hidden",...ee(E)?{transform:`scale(${Fe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Fe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${V.DURATION}s`,transitionTimingFunction:`cubic-bezier(${V.EASE.join(",")})`})):(Ge(w,"overflow"),Ge(w,"transform"),Ge(w,"borderRadius"),q(w,{transitionProperty:"transform, border-radius",transitionDuration:`${V.DURATION}s`,transitionTimingFunction:`cubic-bezier(${V.EASE.join(",")})`}))}xe([tt,p,Ce],([m,v,w])=>{function E(){const z=c(R);if(!z)return;const Q=c(A),pe=document.activeElement;if(vt(pe)||Q){const be=window.visualViewport?.height||0;let we=window.innerHeight-be;const Pe=z.getBoundingClientRect().height||0;Ee||(Ee=Pe);const it=z.getBoundingClientRect().top;if(Math.abs(ke-we)>60&&A.set(!Q),v&&v.length>0&&w&&m){const Re=w[m]||0;we+=Re}if(ke=we,Pe>be||Q){const Re=z.getBoundingClientRect().height;let Ke=Re;Re>be&&(Ke=be-nn),c(f)?z.style.height=`${Re-Math.max(we,0)}px`:z.style.height=`${Math.max(Ke,be-it)}px`}else z.style.height=`${Ee}px`;v&&v.length>0&&!Q?z.style.bottom="0px":z.style.bottom=`${Math.max(we,0)}px`}}let U=kt;return window.visualViewport&&(U=Oe(window.visualViewport,"resize",E)),()=>{U()}});function Se(m=!1){if(oe)return;const v=c(R);if(!v)return;const w=c(l);u?.(),q(v,{transform:ee(w)?`translate3d(0, ${w==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${w==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${V.DURATION}s cubic-bezier(${V.EASE.join(",")})`}),q(c(x),{opacity:"0",transition:`opacity ${V.DURATION}s cubic-bezier(${V.EASE.join(",")})`}),Ye(!1),oe=!0,setTimeout(()=>{M.set(!1),S.set(!1),oe=!1,m&&c(a)?.focus()},300);const E=c(p);setTimeout(()=>{Ge(document.documentElement,"scrollBehavior"),E&&De.set(E[0])},V.DURATION*1e3)}xe([S],([m])=>{m?O.set(!0):Se()});function qe(){const m=c(R);if(!m)return;const v=c(x),w=document.querySelector("[data-vaul-drawer-wrapper]"),E=c(l),U=ft(m,E);q(m,{transform:"translate3d(0, 0, 0)",transition:`transform ${V.DURATION}s cubic-bezier(${V.EASE.join(",")})`}),q(v,{transition:`opacity ${V.DURATION}s cubic-bezier(${V.EASE.join(",")})`,opacity:"1"});const z=c(N),Q=c(S);z&&U&&U>0&&Q&&q(w,{borderRadius:`${Ft}px`,overflow:"hidden",...ee(E)?{transform:`scale(${Fe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Fe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${V.DURATION}s`,transitionTimingFunction:`cubic-bezier(${V.EASE.join(",")})`},!0)}function wt(m){const v=c(R);if(!J||!v)return;L&&vt(m.target)&&m.target.blur(),v.classList.remove(Ht),L=!1,J=!1,K=new Date;const w=c(l),E=ft(v,w);if(m.target&&!rt(m.target,!1)||!E||Number.isNaN(E)||ae===null)return;const U=K.getTime()-ae.getTime(),z=jt(he,w,m),Q=Math.abs(z)/U;if(Q>.05&&(D.set(!0),setTimeout(()=>{D.set(!1)},200)),c(p)){ze({draggedDistance:z*Ut(w),closeDrawer:Se,velocity:Q,dismissible:c(I)}),s?.(m,!0);return}if(w==="bottom"||w==="right"?z>0:z<0){qe(),s?.(m,!0);return}if(Q>Jt){Se(),s?.(m,!1);return}const pe=Math.min(c(R)?.getBoundingClientRect().height??0,window.innerHeight);if(E>=pe*c($)){Se(),s?.(m,!1);return}s?.(m,!0),qe()}xe([S],([m])=>{m&&(zn&&q(document.documentElement,{scrollBehavior:"auto"}),y.set(new Date),Ye(!0,t.backgroundColor))}),xe([M],([m])=>{if(!m)return;const v=c(R);if(!v)return;v.querySelectorAll("*").forEach(E=>{const U=E;(U.scrollHeight>U.clientHeight||U.scrollWidth>U.clientWidth)&&U.classList.add("vaul-scrollable")})});function at(m){const v=c(R),w=m?(window.innerWidth-Ie)/window.innerWidth:1,E=m?-Ie:0;ye&&window.clearTimeout(ye),q(v,{transition:`transform ${V.DURATION}s cubic-bezier(${V.EASE.join(",")})`,transform:`scale(${w}) translate3d(0, ${E}px, 0)`}),!m&&v&&(ye=setTimeout(()=>{const U=c(l),z=ft(v,U);q(v,{transition:"none",transform:ee(U)?`translate3d(0, ${z}px, 0)`:`translate3d(${z}px, 0, 0)`})},500))}function Xe(m,v){if(v<0)return;const w=(window.innerWidth-Ie)/window.innerWidth,E=w+v*(1-w),U=-Ie+v*Ie,z=c(l);q(c(R),{transform:ee(z)?`scale(${E}) translate3d(0, ${U}px, 0)`:`scale(${E}) translate3d(${U}px, 0, 0)`,transition:"none"})}function xt(m,v){const w=c(l),E=ee(w)?window.innerHeight:window.innerWidth,U=v?(E-Ie)/E:1,z=v?-Ie:0;v&&q(c(R),{transition:`transform ${V.DURATION}s cubic-bezier(${V.EASE.join(",")})`,transform:ee(w)?`scale(${U}) translate3d(0, ${z}px, 0)`:`scale(${U}) translate3d(${z}px, 0, 0)`})}return{states:{isOpen:S,hasBeenOpened:O,snapPoints:p,activeSnapPoint:De,snapPointsOffset:Ce,keyboardIsOpen:A,shouldFade:Ue,visible:M,drawerId:ne,openDrawerIds:St},helpers:{getContentStyle:nt},methods:{closeDrawer:Se,onOpenChange:g,onPress:ot,onRelease:wt,onDrag:st,scaleBackground:Ye,onNestedDrag:Xe,onNestedOpenChange:at,onNestedRelease:xt,restorePositionSetting:Ve,openDrawer:We},refs:{drawerRef:R,overlayRef:x,triggerRef:a},options:r}}function so(t){return 8*(Math.log(t+1)-2)}function Fe(){return(window.innerWidth-nn)/window.innerWidth}function jt(t,e,n){return n.type.startsWith("touch")?io(t,e,n):ao(t,e,n)}function ao(t,e,n){return t-(ee(e)?n.screenY:n.screenX)}function io(t,e,n){return t-(ee(e)?n.changedTouches[0].screenY:n.changedTouches[0].screenX)}function Ut(t){return t==="bottom"||t==="right"?1:-1}const on=Symbol("VAUL_ROOT");function lo(t={}){const e=ro(t),n=Rn(e.options);return sn(on,{...e,updateOption:n}),{...e,updateOption:n}}function Be(){return an(on)}function co(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,["open","onOpenChange","closeThreshold","scrollLockTimeout","snapPoints","fadeFromIndex","openFocus","onOutsideClick","closeOnOutsideClick","backgroundColor","nested","shouldScaleBackground","activeSnapPoint","onActiveSnapPointChange","onRelease","onDrag","onClose","dismissible","direction"]);ce(e,!1);const r=Qe(),a=()=>se(ae,"$isOpen",r),i=()=>se(A,"$keyboardIsOpen",r),s=()=>se(K,"$localDismissible",r);let u=C(e,"open",12,!1),g=C(e,"onOpenChange",24,()=>{}),p=C(e,"closeThreshold",24,()=>{}),b=C(e,"scrollLockTimeout",24,()=>{}),f=C(e,"snapPoints",24,()=>{}),I=C(e,"fadeFromIndex",24,()=>{}),P=C(e,"openFocus",24,()=>{}),T=C(e,"onOutsideClick",24,()=>{}),N=C(e,"closeOnOutsideClick",8,!0),h=C(e,"backgroundColor",8,"black"),$=C(e,"nested",8,!1),l=C(e,"shouldScaleBackground",8,!1),k=C(e,"activeSnapPoint",28,()=>{}),S=C(e,"onActiveSnapPointChange",24,()=>{}),O=C(e,"onRelease",24,()=>{}),M=C(e,"onDrag",24,()=>{}),D=C(e,"onClose",24,()=>{}),x=C(e,"dismissible",24,()=>{}),y=C(e,"direction",8,"bottom");const{states:{keyboardIsOpen:A,activeSnapPoint:R,drawerId:ne,openDrawerIds:J,isOpen:ae},methods:{closeDrawer:oe,openDrawer:he},options:{dismissible:K},updateOption:H}=lo({defaultOpen:u(),defaultActiveSnapPoint:k(),onOpenChange:({next:L})=>(u()!==L&&(g()?.(L),u(L)),L),onActiveSnapPointChange:({next:L})=>{if(L===void 0&&f()&&k()!==L){const ie=f()[0];return S()?.(ie),k(ie),ie}return k()!==L&&(S()?.(L),k(L)),L},closeThreshold:p(),scrollLockTimeout:b(),snapPoints:f(),fadeFromIndex:I(),nested:$(),onDrag:M(),onClose:D(),onRelease:O(),shouldScaleBackground:l(),backgroundColor:h(),dismissible:x(),direction:y()});re(()=>ue(k()),()=>{k()!==void 0&&R.set(k())}),re(()=>ue(p()),()=>{H("closeThreshold",p())}),re(()=>ue(b()),()=>{H("scrollLockTimeout",b())}),re(()=>ue(f()),()=>{H("snapPoints",f())}),re(()=>ue(I()),()=>{H("fadeFromIndex",I())}),re(()=>ue(P()),()=>{H("openFocus",P())}),re(()=>ue(l()),()=>{H("shouldScaleBackground",l())}),re(()=>ue(h()),()=>{H("backgroundColor",h())}),re(()=>ue(x()),()=>{H("dismissible",x())}),re(()=>ue(y()),()=>{H("direction",y())}),re(()=>(ue(u()),a()),()=>{u()&&!a()&&he()}),re(()=>(ue(u()),a()),()=>{!u()&&a()&&oe()}),Ze(),le(),vn(t,ge({get closeOnOutsideClick(){return N()},closeOnEscape:!1,preventScroll:!1,onOpenChange:L=>{g()?.(L),L?L&&he():oe()},onOutsideClick:L=>{if(!N()||(T()?.(L),L?.defaultPrevented)||(i()&&A.set(!1),L.preventDefault(),!s()))return;const ie=c(J);ie[ie.length-1]===c(ne)&&(g()?.(!1),oe())}},()=>o,{get open(){return u()},set open(L){u(L)},children:(L,ie)=>{var ke=G(),Ee=j(ke);te(Ee,e,"default",{},null),_(L,ke)},$$slots:{default:!0},$$legacy:!0})),de()}function uo(t,e){ce(e,!1);const{states:{visible:n},methods:{scaleBackground:o,restorePositionSetting:r}}=Be();Gt(()=>(n.set(!0),()=>{o(!1),r()})),le(),de()}var fo=X("<!> <!>",1);function go(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,["style"]);ce(e,!1);const r=Qe(),a=()=>se(g,"$drawerRef",r),i=()=>se(b,"$getContentStyle",r),s=()=>se(T,"$direction",r),u=()=>se(p,"$visible",r),{refs:{drawerRef:g},states:{visible:p},helpers:{getContentStyle:b},methods:{onPress:f,onDrag:I,onRelease:P},options:{direction:T}}=Be();let N=C(e,"style",8,"");le();var h=W(()=>i()(N())),$=W(()=>u()?"true":"false");pn(t,ge({get style(){return d(h)},"data-vaul-drawer":"",get"data-vaul-drawer-direction"(){return s()},get"data-vaul-drawer-visible"(){return d($)}},()=>o,{get el(){return Dt(),a()},set el(l){Tt(g,l)},$$events:{pointerdown:l=>{f(l)},pointerup:l=>{P(l)},pointermove:l=>{I(l)},touchend:l=>{P(l)},touchmove:l=>{I(l)}},children:(l,k)=>{var S=fo(),O=j(S);uo(O,{});var M=Z(O,2);te(M,e,"default",{},null),_(l,S)},$$slots:{default:!0},$$legacy:!0})),de()}function mo(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,[]);ce(e,!1);const r=Qe(),a=()=>se(P,"$snapPoints",r),i=()=>se(b,"$overlayRef",r),s=()=>se(I,"$visible",r),u=()=>se(f,"$isOpen",r),g=()=>se(T,"$shouldFade",r),p=Ne(),{refs:{overlayRef:b},states:{isOpen:f,visible:I,snapPoints:P,shouldFade:T},methods:{onRelease:N}}=Be();re(()=>a(),()=>{ve(p,a()&&a().length>0)}),Ze(),le();var h=W(()=>s()?"true":"false"),$=W(()=>u()&&d(p)?"true":"false"),l=W(()=>u()&&g()?"true":"false");hn(t,ge({get"data-vaul-drawer-visible"(){return d(h)},"data-vaul-overlay":"",get"data-vaul-snap-points"(){return d($)},get"data-vaul-snap-points-overlay"(){return d(l)}},()=>o,{get el(){return Dt(),i()},set el(k){Tt(b,k)},$$events:{mouseup:N},$$legacy:!0})),de()}function vo(t,e){ce(e,!1);const n=Ne(),o=Ne();let r=C(e,"meltBuilder",8);const{methods:{closeDrawer:a}}=Be(),i=g=>{const p=f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),a(!0))},b=()=>{a()};return g.addEventListener("keydown",p),g.addEventListener("click",b),()=>{g.removeEventListener("keydown",p),g.removeEventListener("click",b)}};re(()=>(d(n),d(o),ue(r())),()=>{(g=>(ve(n,g._),ve(o,Vt(g,["_"]))))(r())}),re(()=>d(o),()=>{Object.assign(d(o),{action:i})}),Ze(),le();var s=G(),u=j(s);te(u,e,"default",{get newBuilder(){return d(o)}},null),_(t,s),de()}function po(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,["el","asChild"]);ce(e,!1);let r=C(e,"el",28,()=>{}),a=C(e,"asChild",8,!1);const{methods:{closeDrawer:i}}=Be();le();var s=G(),u=j(s);{var g=b=>{At(b,ge(()=>o,{get asChild(){return a()},get el(){return r()},set el(f){r(f)},$$events:{click:f=>{f.preventDefault(),i()},keydown:f=>{(f.detail.originalEvent.key==="Enter"||f.detail.originalEvent.key===" ")&&(f.preventDefault(),i(!0))}},children:je,$$slots:{default:(f,I)=>{const P=W(()=>I.builder);vo(f,{get meltBuilder(){return d(P)},children:je,$$slots:{default:(T,N)=>{const h=W(()=>N.newBuilder);var $=G(),l=j($);te(l,e,"default",{get builder(){return d(h)}},null),_(T,$)}}})}},$$legacy:!0}))},p=b=>{At(b,ge(()=>o,{get asChild(){return a()},get el(){return r()},set el(f){r(f)},$$events:{click:f=>{f.preventDefault(),i()},keydown:f=>{(f.detail.originalEvent.key==="Enter"||f.detail.originalEvent.key===" ")&&(f.preventDefault(),i(!0))}},children:je,$$slots:{default:(f,I)=>{const P=W(()=>I.builder);var T=G(),N=j(T);te(N,e,"default",{get builder(){return d(P)}},null),_(f,T)}},$$legacy:!0}))};fe(u,b=>{a()?b(g):b(p,!1)})}_(t,s),de()}function ho(t,e){ce(e,!1);const n=Ne(),o=Ne();let r=C(e,"meltBuilder",8);const{refs:{triggerRef:a}}=Be(),i=g=>(a.set(g),d(n)(g));re(()=>(d(n),d(o),ue(r())),()=>{(g=>(ve(n,g.action),ve(o,Vt(g,["action"]))))(r())}),re(()=>d(o),()=>{Object.assign(d(o),{action:i})}),Ze(),le();var s=G(),u=j(s);te(u,e,"default",{get newBuilder(){return d(o)}},null),_(t,s),de()}function bo(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,["el","asChild"]);ce(e,!1);const{refs:{triggerRef:r}}=Be();let a=C(e,"el",28,()=>{}),i=C(e,"asChild",8,!1);re(()=>ue(a()),()=>{a()&&r.set(a())}),Ze(),le();var s=G(),u=j(s);{var g=b=>{It(b,ge({get asChild(){return i()}},()=>o,{get el(){return a()},set el(f){a(f)},$$events:{click(f){dt.call(this,e,f)},keydown(f){dt.call(this,e,f)}},children:je,$$slots:{default:(f,I)=>{const P=W(()=>I.builder);ho(f,{get meltBuilder(){return d(P)},children:je,$$slots:{default:(T,N)=>{const h=W(()=>N.newBuilder);var $=G(),l=j($);te(l,e,"default",{get builder(){return d(h)}},null),_(T,$)}}})}},$$legacy:!0}))},p=b=>{It(b,ge(()=>o,{get el(){return a()},set el(f){a(f)},$$events:{click(f){dt.call(this,e,f)},keydown(f){dt.call(this,e,f)}},children:je,$$slots:{default:(f,I)=>{const P=W(()=>I.builder);var T=G(),N=j(T);te(N,e,"default",{get builder(){return d(P)}},null),_(f,T)}},$$legacy:!0}))};fe(u,b=>{i()?b(g):b(p,!1)})}_(t,s),de()}const $o=bn,wo=$n;function xo(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,["shouldScaleBackground","open","activeSnapPoint"]);let r=C(e,"shouldScaleBackground",8,!0),a=C(e,"open",12,!1),i=C(e,"activeSnapPoint",28,()=>{});co(t,ge({get shouldScaleBackground(){return r()}},()=>o,{get open(){return a()},set open(s){a(s)},get activeSnapPoint(){return i()},set activeSnapPoint(s){i(s)},children:(s,u)=>{var g=G(),p=j(g);te(p,e,"default",{},null),_(s,g)},$$slots:{default:!0},$$legacy:!0}))}function yo(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,["el","class"]);ce(e,!1);let r=C(e,"el",28,()=>{}),a=C(e,"class",24,()=>{});le();var i=W(()=>et("fixed inset-0 z-50 bg-black/80",a()));mo(t,ge({get class(){return d(i)}},()=>o,{get el(){return r()},set el(s){r(s)},children:(s,u)=>{var g=G(),p=j(g);te(p,e,"default",{},null),_(s,g)},$$slots:{default:!0},$$legacy:!0})),de()}var _o=X('<div class="bg-muted mx-auto mt-4 h-2 w-[100px] rounded-full"></div> <!>',1),So=X("<!> <!>",1);function Po(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,["class"]);ce(e,!1);let r=C(e,"class",24,()=>{});le(),$o(t,{children:(a,i)=>{var s=So(),u=j(s);yo(u,{});var g=Z(u,2),p=W(()=>et("bg-background fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border",r()));go(g,ge({get class(){return d(p)}},()=>o,{children:(b,f)=>{var I=_o(),P=Z(j(I),2);te(P,e,"default",{},null),_(b,I)},$$slots:{default:!0}})),_(a,s)},$$slots:{default:!0}}),de()}var ko=X("<div><!></div>");function Do(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,["el","class"]);ce(e,!1);let r=C(e,"el",28,()=>{}),a=C(e,"class",24,()=>{});le();var i=ko();let s;var u=F(i);te(u,e,"default",{},null),B(i),Xt(i,g=>r(g),()=>r()),Me(()=>s=Wt(i,s,{class:et("mt-auto flex flex-col gap-2 p-4",a()),...o})),_(t,i),de()}var To=X("<div><!></div>");function Oo(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,["el","class"]);ce(e,!1);let r=C(e,"el",28,()=>{}),a=C(e,"class",24,()=>{});le();var i=To();let s;var u=F(i);te(u,e,"default",{},null),B(i),Xt(i,g=>r(g),()=>r()),Me(()=>s=Wt(i,s,{class:et("grid gap-1.5 p-4 text-center sm:text-left",a()),...o})),_(t,i),de()}function Eo(t,e){const n=Y(e,["children","$$slots","$$events","$$legacy"]),o=Y(n,["el","class"]);ce(e,!1);let r=C(e,"el",28,()=>{}),a=C(e,"class",24,()=>{});le();var i=W(()=>et("text-lg font-semibold leading-none tracking-tight",a()));wo(t,ge({get class(){return d(i)}},()=>o,{get el(){return r()},set el(s){r(s)},children:(s,u)=>{var g=G(),p=j(g);te(p,e,"default",{},null),_(s,g)},$$slots:{default:!0},$$legacy:!0})),de()}const Co=bo,Ro=po;var Ao=X('<div class="flex bg-accent p-4 rounded-xl shadow-sm hover:border hover:border-primary relative group overflow-visible cursor-pointer"><div class="flex gap-6 items-center flex-grow"><img class="w-16 h-16 rounded-xl object-cover transform transition-transform duration-300 group-hover:scale-150"> <div class="flex justify-between w-full items-center gap-4"><div class="flex flex-col gap-2 justify-between"><div class="flex items-center"><!> <h3 class="text-xs"> </h3></div> <div class="flex flex-col items-start gap-0"><span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs"> </span></div></div> <div class="ml-auto text-sm text-muted-foreground text-wrap"><div> </div> <div> </div></div></div></div></div>'),Io=X('<div class="p-3">No events yet</div>'),Lo=X('<div class="border-l flex flex-col p-2 max-h-full overflow-auto"><div class="flex flex-col gap-3 overflow-y-auto max-h-[calc(100vh-3rem)] text-xs overflow-visible"><!></div></div>'),Mo=X("<!> <!>",1),No=X("<!> <!>",1),Bo=X("<!> <!>",1),zo=X("<!> <!>",1);function Fo(t,e){ce(e,!1);const n=Qe(),o=()=>se(Pt,"$isAlertMobileOpen",n),r=()=>se(un,"$nodes",n),a=()=>se(gn,"$liveEvents",n),i={person:"mdi:human",face:"mdi:face-recognition",fire:"mdi:fire",alpr:"mdi:car"};let s=Ne(null);function u(P){ve(s,{...P})}function g(){ve(s,null)}le();var p=zo(),b=j(p);xo(b,{get open(){return Dt(),o()},set open(P){Tt(Pt,P)},children:(P,T)=>{var N=Bo(),h=j(N);Co(h,{children:(l,k)=>{var S=G(),O=j(S);te(O,e,"default",{},null),_(l,S)},$$slots:{default:!0}});var $=Z(h,2);Po($,{class:"max-h-[50vh] h-[50vh]",children:(l,k)=>{var S=No(),O=j(S);Oo(O,{children:(D,x)=>{var y=Mo(),A=j(y);Eo(A,{children:(J,ae)=>{mt();var oe=Rt("Events");_(J,oe)},$$slots:{default:!0}});var R=Z(A,2);{var ne=J=>{var ae=G(),oe=j(ae);{var he=K=>{var H=Lo(),L=F(H),ie=F(L);{var ke=ye=>{var De=G(),tt=j(De);Yt(tt,1,a,qt,($t,$e)=>{var ze=Ao(),Ue=F(ze),Ce=F(Ue),nt=Z(Ce,2),Ve=F(nt),We=F(Ve),ot=F(We);{var rt=w=>{Kt(w,{get icon(){return i[d($e).type]},width:"20"})};fe(ot,w=>{i[d($e).type]&&w(rt)})}var st=Z(ot,2),Ye=F(st,!0);B(st),B(We);var Se=Z(We,2),qe=F(Se),wt=F(qe);Me(()=>Je(wt,`Confidence: ${Math.round(d($e).score*100)??""} %`)),B(qe),B(Se),B(Ve);var at=Z(Ve,2),Xe=F(at),xt=F(Xe,!0);Me(()=>Je(xt,new Date(d($e)?.created).toLocaleDateString())),B(Xe);var m=Z(Xe,2),v=F(m,!0);Me(()=>Je(v,new Date(d($e)?.created).toLocaleTimeString())),B(m),B(at),B(nt),B(Ue),B(ze),Me(()=>{He(Ce,"src","data:image/jpeg;base64,"+d($e).frameImage),He(Ce,"alt",d($e).title||"Unknown Identity"),Je(Ye,d($e).title||"Unknown Identity")}),_e("click",ze,()=>u(d($e))),_($t,ze)}),_(ye,De)},Ee=ye=>{var De=Io();_(ye,De)};fe(ie,ye=>{a().length>0?ye(ke):ye(Ee,!1)})}B(L),B(H),_(K,H)};fe(oe,K=>{o()&&K(he)})}_(J,ae)};fe(R,J=>{r()?.length>0&&J(ne)})}_(D,y)},$$slots:{default:!0}});var M=Z(O,2);Do(M,{children:(D,x)=>{Ro(D,{children:(y,A)=>{mt();var R=Rt("Cancel");_(y,R)},$$slots:{default:!0}})},$$slots:{default:!0}}),_(l,S)},$$slots:{default:!0}}),_(P,N)},$$slots:{default:!0},$$legacy:!0});var f=Z(b,2);{var I=P=>{xn(P,{get event(){return d(s)},onClose:g})};fe(f,P=>{d(s)&&P(I)})}_(t,p),de()}var Ho=X('<button class="flex flex-col items-center justify-center gap-1 relative"><!> <span class="text-xs text-black/[.6] dark:text-neutral-300 tracking-[-0.12px] font-medium text-center">Register</span></button>'),jo=X('<div class="w-[150px] h-[95px] rounded-md bg-[f5f6f7] shadow-selection flex flex-col items-center justify-center absolute z-20 bg-white bottom-[4.5rem]"><button disabled class="text-[#2c2c2c] text-sm focus:bg-[#015a62]/[.12] py-[11px] w-full">Selected screen</button> <button disabled class="text-[#2c2c2c] text-sm focus:bg-[#015a62]/[.12] py-[11px] w-full">All screens</button></div>'),Uo=X('<div class="w-[150px] h-[95px] rounded-md bg-[f5f6f7] shadow-selection flex flex-col items-center justify-center absolute z-20 bg-white bottom-[4.5rem]"><button class="text-[#2c2c2c] text-sm focus:bg-[#015a62]/[.12] py-[11px] w-full">Selected screen</button> <button class="text-[#2c2c2c] text-sm focus:bg-[#015a62]/[.12] py-[11px] w-full">All screens</button></div>'),Vo=X('<button class="flex flex-col items-center justify-center gap-1"><!> <span class="text-xs text-black/[.6] dark:text-neutral-300 tracking-[-0.12px] font-medium text-center">Alerts</span></button>'),Wo=X('<div class="flex items-center justify-evenly px-2 fixed w-screen bottom-[66px] z-30 pb-4 pt-2 backdrop-blur-xl"><!> <button disabled class="flex flex-col items-center justify-center gap-1 relative"><!> <span class="text-xs text-neutral-300 tracking-[-0.12px] font-medium text-center">Record</span> <!></button> <button class="flex flex-col items-center justify-center gap-1 relative"><!> <span class="text-xs text-black/[.6] dark:text-neutral-300 tracking-[-0.12px] font-medium text-center">Snip</span> <!></button> <!></div>');function Yo(t,e){ce(e,!1);const n=Qe(),o=()=>se(cn,"$selectedCamera",n),r=()=>se(dn,"$cameras",n),a=()=>se(fn,"$selectedNode",n);let i=Ne(""),s=C(e,"showAlerts",8),u=C(e,"activeStreamIndex",8);const g=async()=>{if(o()){const D=document.getElementById(`${o()}`);if(D){const y=(await Lt(D)).toDataURL("image/webp"),A=document.createElement("a");A.href=y,A.download="screenshot.webp",A.click(),ct.success("Downloaded screen snip."),A.remove()}}},p=async()=>{const D=new Pn;for(let x=0;x<r().length;x++){const y=document.getElementById(`${r()[x].id}`);if(y){const R=(await Lt(y)).toDataURL("image/webp");D.file(`screenshot_${r()[x].name}_${r()[x].id}.webp`,R?.split(";base64,").pop(),{base64:!0})}}D.generateAsync({type:"blob"}).then(function(x){const y=document.createElement("a");y.href=URL.createObjectURL(x),y.download="screenshots.zip",y.click(),URL.revokeObjectURL(y.href),ct.success("Downloaded all screen snips.")})};le();var b=Wo(),f=F(b);yn(f,{children:(D,x)=>{var y=Ho(),A=F(y),R=W(()=>`p-[11px] w-[46px] h-[46px] rounded-full ${d(i)==="register"?"bg-[#015a62] text-white":"bg-[#e8e9ea] text-[#015a62]"}`);Kt(A,{icon:"material-symbols:familiar-face-and-zone",get class(){return d(R)}}),mt(2),B(y),_e("click",y,()=>d(i)==="register"?ve(i,""):ve(i,"register")),_(D,y)},$$slots:{default:!0}});var I=Z(f,2),P=F(I),T=W(()=>`p-[11px] w-[46px] h-[46px] rounded-full disabled:text-neutral-300 ${d(i)==="record"?"bg-[#015a62] text-white":"bg-neutral-300 text-neutral-400"}`);Cn(P,{get class(){return d(T)}});var N=Z(P,4);{var h=D=>{var x=jo(),y=F(x);He(y,"tabindex",0);var A=Z(y,2);He(A,"tabindex",1),B(x),_e("click",x,R=>R.stopPropagation()),_(D,x)};fe(N,D=>{d(i)==="record"&&D(h)})}B(I);var $=Z(I,2),l=F($),k=W(()=>`p-[11px] w-[46px] h-[46px] rounded-full ${d(i)==="snip"?"bg-[#015a62] text-white":"bg-[#e8e9ea] text-[#015a62]"}`);_n(l,{get class(){return d(k)}});var S=Z(l,4);{var O=D=>{var x=Uo(),y=F(x);He(y,"tabindex",0);var A=Z(y,2);He(A,"tabindex",1),B(x),_e("click",y,()=>{u()!==null?g():(ct.error("No Stream selected currently, tap on a stream to select it."),ve(i,""))}),_e("click",A,()=>{p()}),_e("click",A,()=>{a()?.camera.length>0||ct.error("number of streams = 0")}),_e("click",x,R=>R.stopPropagation()),_(D,x)};fe(S,D=>{d(i)==="snip"&&D(O)})}B($);var M=Z($,2);Fo(M,{children:(D,x)=>{var y=Vo(),A=F(y),R=W(()=>`p-[11px] w-[46px] h-[46px] rounded-full ${s()?"bg-[#015a62] text-white":"bg-[#e8e9ea] text-[#015a62]"}`);Tn(A,{get class(){return d(R)}}),mt(2),B(y),_e("click",y,()=>{Pt.update(ne=>!ne)}),_(D,y)},$$slots:{default:!0}}),B(b),_e("click",I,()=>d(i)==="record"?ve(i,""):ve(i,"record")),_e("click",$,()=>d(i)==="snip"?ve(i,""):ve(i,"snip")),_(t,b),de()}var qo=X('<a href="/"><!></a>'),Xo=X('<a href="/playback"><!></a>'),Ko=X('<a href="/events"><!></a>'),Go=X('<a href="/gallery"><!></a>'),Jo=X('<a href="configuration?section=Remote"><!></a>'),Zo=X("<div><div><span><!></span> <span> </span></div></div>"),Qo=X('<header class="flex lg:hidden fixed bottom-0 left-0 w-full z-40 backdrop-blur-lg" id="navMobile"><nav class="bg-[white] dark:bg-[#1e1f25] flex flex-row items-center justify-between px-4 w-full pb-2 rounded-t-xl"></nav></header>');function er(t,e){ce(e,!1);const n=[{text:"Live",href:"/"},{text:"Playback",href:"/playback"},{text:"Events",href:"/events"},{text:"Gallery",href:"/gallery"},{text:"Configuration",href:"/configuration"}],o=window.location.pathname;le();var r=Qo(),a=F(r);Yt(a,5,()=>n,qt,(i,s)=>{var u=Zo();const g=W(()=>ln(o===d(s).href.split("?")[0]?"-mt-6":"-mt-2"));var p=F(u);ut(p,"flex flex-col justify-center items-center pt-[8px] ");var b=F(p);const f=W(()=>`${o===d(s).href.split("?")[0]?"bg-white p-2 rounded-full":"bg-transparent"} `);var I=F(b);{var P=l=>{var k=qo(),S=F(k),O=W(()=>` h-[40px] w-[40px] p-2 ${o===d(s).href.split("?")[0]?"text-white  bg-gradient-to-tr from-[#015a62] to-[#01b4c5] rounded-full ":"text-[#505050]"}`);kn(S,{get class(){return d(O)}}),B(k),_(l,k)},T=l=>{var k=G(),S=j(k);{var O=D=>{var x=Xo(),y=F(x),A=W(()=>` h-[40px] w-[40px] p-2 ${o===d(s).href.split("?")[0]?"text-white  bg-gradient-to-tr from-[#015a62] to-[#01b4c5] rounded-full ":"text-[#505050]"}`);On(y,{get class(){return d(A)}}),B(x),_(D,x)},M=D=>{var x=G(),y=j(x);{var A=ne=>{var J=Ko(),ae=F(J),oe=W(()=>` h-[40px] w-[40px] p-2 ${o===d(s).href.split("?")[0]?"text-white  bg-gradient-to-tr from-[#015a62] to-[#01b4c5] rounded-full ":"text-[#505050]"}`);Dn(ae,{get class(){return d(oe)}}),B(J),_(ne,J)},R=ne=>{var J=G(),ae=j(J);{var oe=K=>{var H=Go(),L=F(H),ie=W(()=>` h-[40px] w-[40px] p-2 ${o===d(s).href.split("?")[0]?"text-white  bg-gradient-to-tr from-[#015a62] to-[#01b4c5] rounded-full ":"text-[#505050]"}`);En(L,{get class(){return d(ie)}}),B(H),_(K,H)},he=K=>{var H=Jo(),L=F(H),ie=W(()=>` h-[40px] w-[40px] p-2 ${o===d(s).href.split("?")[0]?"text-white  bg-gradient-to-tr from-[#015a62] to-[#01b4c5] rounded-full ":"text-[#505050]"}`);Sn(L,{get class(){return d(ie)}}),B(H),_(K,H)};fe(ae,K=>{d(s).text==="Gallery"?K(oe):K(he,!1)},!0)}_(ne,J)};fe(y,ne=>{d(s).text==="Events"?ne(A):ne(R,!1)},!0)}_(D,x)};fe(S,D=>{d(s).text==="Playback"?D(O):D(M,!1)},!0)}_(l,k)};fe(I,l=>{d(s).text==="Live"?l(P):l(T,!1)})}B(b);var N=Z(b,2);const h=W(()=>`text-[12px] font-medium ${o===d(s).href.split("?")[0]?"text-[#015a62]":"text-[#505050] dark:text-[rgba(255,255,255,.6)"}`);var $=F(N,!0);B(N),B(p),B(u),Me(()=>{ut(u,d(g),""),ut(b,d(f)),ut(N,d(h)),Je($,d(s).text)}),_(i,u)}),B(a),B(r),_(t,r),de()}var tr=X("<!> <!>",1);function qr(t){let e=!!window.localStorage.getItem("pb_auth_token");const n=window?.location?.pathname;var o=G(),r=j(o);{var a=i=>{var s=tr(),u=j(s);{var g=b=>{Yo(b,{})};fe(u,b=>{n==="/"&&b(g)})}var p=Z(u,2);er(p,{}),_(i,s)};fe(r,i=>{e&&i(a)})}_(t,o)}export{qr as default};
