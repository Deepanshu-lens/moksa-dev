import{i as pa}from"./legacy.CS2Xrhg9.js";import{p as ca,l as da,a as ma,f as g,b as va,aM as z,e as i,s as a,r as p,t as R,c as D,g as o,w as x,m as J,j as K}from"./effects.BhUQh3a6.js";import{s as S}from"./render.B8Ti1KQa.js";import{i as C,s as Q}from"./attributes.Bzn9xiO9.js";import{c as ua,a as t,e as fa,t as u,b as h}from"./template.gBe-IW8Y.js";import{p as _a}from"./props.B2sXXNEW.js";import{s as $a,a as ga}from"./store.Cu8l1F6D.js";import{u as Y}from"./user.DTKNVqgd.js";import{p as xa}from"./pb.BjVtZEqq.js";import{o as ha}from"./index-client.CAqXSNTC.js";import"./ui.AXpcjr67.js";import{R as ba,T as wa,P as ya}from"./index.BAWMrix_.js";import{R as ka,T as Da,D as Aa}from"./index.Cb-bx87I.js";import{B as Pa}from"./button.KrNygnVt.js";import{a as Ma}from"./authLogs.Cvxf9YN5.js";import{D as La,a as Ta}from"./dropdown-menu-separator.Dd86N39A.js";import{D as V}from"./dropdown-menu-item.B69BJlTw.js";import"./index.Syity6yz.js";import"./this.CmfLgYlZ.js";import"./create.DJFv7QJ3.js";import"./updater.1_cAstJq.js";import"./utils.CC9b3hXT.js";import"./helpers.DnLv66qw.js";import"./focus.B8v0om3D.js";import"./create.gm8meUqM.js";import"./userDetails.C512u9q6.js";var Ea=u('<div class="space-y-0 flex-col items-start hidden md:flex text-white hover:text-black"><span class="text-xs"> </span> <span class="text-xs"> </span></div>'),Na=u('<div class="flex items-center space-x-3 hover:bg-accent py-1.5 px-2 rounded-md bg-transparent "><img alt="User Avatar" class="rounded-lg"> <!></div>'),Ra=u("<!> <!> <!> <!> <!>",1),Sa=u("<!> <!>",1),Ca=u('<p class="truncate px-3.5 py-3" role="none"><span class="block text-xs text-gray-500" role="none">Signed in as</span> <span class="mt-0.5 font-semibold" role="none"> </span> <!></p> <div class="py-1.5" role="none"><span class="opacity-50 block py-1.5 px-3.5 cursor-not-allowed">Changelog</span> <span class="opacity-50 block py-1.5 px-3.5 cursor-not-allowed">Support</span> <span class="opacity-50 block py-1.5 px-3.5 cursor-not-allowed">License</span></div> <div class="py-1.5" role="none"><span class="opacity-50 block py-1.5 px-3.5 cursor-not-allowed">User Manual</span> <span class="opacity-50 block py-1.5 px-3.5 hover:bg-accent cursor-not-allowed">Account Settings</span> <!> <button type="button" class="block w-full py-1.5 text-left px-3.5 hover:bg-accent">Sign out</button></div>',1),Va=u("<!> <!>",1);function ct(Z,B){ca(B,!1);const aa=$a(),e=()=>ga(Y,"$user",aa);let G=_a(B,"isVertical",8,!1);const H=20,I=30;let c=J(""),r=J("");async function ta(){await Ma("logout",e()?.email||""),xa.authStore.clear(),Y.set(void 0),window.api?await window.api.invoke("clear-auth-token"):localStorage.removeItem("pb_auth_token"),window.api?(console.log("CALLED FROM AVATAR"),window.api.navigate("/login")):window.location.href="/login"}ha(async()=>{}),da(()=>(e(),o(c),o(r)),()=>{e()&&(D(c,e().name||`${e().firstName} ${e().lastName||""}`),o(c).length>H&&D(c,o(c).slice(0,H-3)+"..."),D(r,e().email),o(r)&&o(r).length>I&&D(r,o(r).slice(0,I-3)+"..."))}),ma(),pa();var O=ua(),ea=g(O);{var oa=A=>{ba(A,{children:(ra,Ba)=>{var U=Va(),X=g(U);wa(X,{class:"border rounded-md hover:text-black border-gray-600",children:z,$$slots:{default:(P,la)=>{var d=Na(),s=i(d),f=a(s,2);{var M=_=>{var m=Ea(),v=i(m),L=i(v,!0);p(v);var $=a(v,2),j=i($,!0);p($),p(m),R(()=>{S(L,o(c)),S(j,o(r))}),t(_,m)};C(f,_=>{G()||_(M)})}p(d),R(()=>{Q(s,"src",e().avatar||`https://ui-avatars.com/api/name=${e().name}?background=random`||""),Q(s,"width",G()?64:25)}),t(P,d)}}});var sa=a(X,2);ya(sa,{class:"p-0 w-60 divide-y  rounded-lg  text-sm font-normal  transform opacity-100 scale-100",children:(P,la)=>{var d=Ca(),s=g(d),f=a(i(s),2),M=i(f,!0);p(f);var _=a(f,2);C(_,$=>{}),p(s);var m=a(s,4),v=a(i(m),4);ka(v,{children:($,j)=>{var q=Sa(),F=g(q);Da(F,{asChild:!0,children:z,$$slots:{default:(T,W)=>{const b=K(()=>W.builder);var w=K(()=>[o(b)]);Pa(T,{variant:"ghost",get builders(){return o(w)},class:"block w-full py-1.5 text-left px-3.5 hover:bg-accent",children:(y,E)=>{x();var k=h("Download apk");t(y,k)},$$slots:{default:!0}})}}});var na=a(F,2);Aa(na,{class:"w-56 mr-45",children:(T,W)=>{var b=Ra(),w=g(b);La(w,{children:(l,N)=>{x();var n=h("Downloading for");t(l,n)},$$slots:{default:!0}});var y=a(w,2);Ta(y,{});var E=a(y,2);V(E,{$$events:{click:()=>handleDownload("mac")},children:(l,N)=>{x();var n=h("MacOs");t(l,n)},$$slots:{default:!0}});var k=a(E,2);V(k,{$$events:{click:()=>handleDownload("win")},children:(l,N)=>{x();var n=h("Windows");t(l,n)},$$slots:{default:!0}});var ia=a(k,2);V(ia,{$$events:{click:()=>handleDownload("lin")},children:(l,N)=>{x();var n=h("Linux");t(l,n)},$$slots:{default:!0}}),t(T,b)},$$slots:{default:!0}}),t($,q)},$$slots:{default:!0}});var L=a(v,2);p(m),R(()=>S(M,e()?.email)),fa("click",L,ta),t(P,d)},$$slots:{default:!0}}),t(ra,U)},$$slots:{default:!0}})};C(ea,A=>{e()&&A(oa)})}t(Z,O),va()}export{ct as default};
