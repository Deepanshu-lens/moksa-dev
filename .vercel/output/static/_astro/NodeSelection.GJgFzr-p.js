import{i as T}from"./legacy.CS2Xrhg9.js";import{p as W,l as k,a as X,f as m,b as Y,g as e,c as V,s as C,m as Z,j as ee,w as R,t as U}from"./effects.BhUQh3a6.js";import{s as j}from"./render.B8Ti1KQa.js";import{i as q}from"./attributes.Bzn9xiO9.js";import{e as I,i as L}from"./each.CE_wtWlh.js";import{c as p,a,t as B,b as z}from"./template.gBe-IW8Y.js";import{p as te}from"./props.B2sXXNEW.js";import{s as ae,a as b}from"./store.Cu8l1F6D.js";import{R as re,S as se,V as oe,b as le,c as A}from"./index.CV3oe3Og.js";import{a as me}from"./userLogs.FmCv2qlm.js";import{u as ie}from"./user.DTKNVqgd.js";import"./pb.BjVtZEqq.js";import{n as ne,s as x}from"./node.Bxisulq9.js";import"./ui.AXpcjr67.js";import"./index.Syity6yz.js";import"./this.CmfLgYlZ.js";import"./create.DJFv7QJ3.js";import"./index-client.CAqXSNTC.js";import"./create.CF7Sq6TA.js";import"./Icon.DvIACLrv.js";import"./updater.1_cAstJq.js";import"./utils.CC9b3hXT.js";import"./index.Dc6kRK_F.js";import"./chevron-down.L3QSLAlw.js";import"./helpers.DnLv66qw.js";import"./userDetails.C512u9q6.js";var ce=B('<span class="text-muted-foreground">Node:</span> <!>',1),de=B("<!> <!>",1);function De(D,h){W(h,!1);const f=ae(),r=()=>b(ne,"$nodes",f),N=()=>b(x,"$selectedNode",f),S=()=>b(ie,"$user",f),o=Z();let E=te(h,"allNodes",8,!0);k(()=>(r(),N()),()=>{V(o,r()?{value:x,label:r().find(i=>i.id===N())?.name}:void 0)}),k(()=>e(o),()=>{e(o)&&localStorage.setItem("$selectedNode",e(o).value)}),X(),T();var w=p(),F=m(w);{var G=i=>{var H=ee(()=>r().map(t=>({value:t.id,label:t.name})));re(i,{get items(){return e(H)},onSelectedChange:t=>{me(`User selected node ${t.label}`,S()?.email||"",S()?.id||""),x.set(t.value)},get selected(){return e(o)},set selected(t){V(o,t)},children:(t,pe)=>{var P=de(),y=m(P);se(y,{class:"lg:w-full w-[17rem]",children:(u,K)=>{var n=ce(),_=C(m(n),2);oe(_,{placeholder:"Cameras"}),a(u,n)},$$slots:{default:!0}});var J=C(y,2);le(J,{class:"overflow-y-auto max-h-[calc(100vh-10rem)]",children:(u,K)=>{var n=p(),_=m(n);{var M=l=>{var c=p(),v=m(c);I(v,1,r,L,($,s)=>{A($,{get value(){return e(s).id},get label(){return e(s).name},class:"truncate max-w-xs inline-block",children:(g,Q)=>{R();var d=z();U(()=>j(d,e(s).name)),a(g,d)},$$slots:{default:!0}})}),a(l,c)},O=l=>{var c=p(),v=m(c);I(v,1,()=>r().slice(1),L,($,s)=>{A($,{get value(){return e(s).id},get label(){return e(s).name},class:"truncate max-w-xs inline-block",children:(g,Q)=>{R();var d=z();U(()=>j(d,e(s).name)),a(g,d)},$$slots:{default:!0}})}),a(l,c)};q(_,l=>{E()?l(M):l(O,!1)})}a(u,n)},$$slots:{default:!0}}),a(t,P)},$$slots:{default:!0},$$legacy:!0})};q(F,i=>{r()&&i(G)})}a(D,w),Y()}export{De as default};
