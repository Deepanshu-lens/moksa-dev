import{i as we}from"./legacy.BEeXhY1S.js";import{C as Ue,aN as nt,aO as ot,p as ke,l as v,a as Ve,f as x,b as Te,d as r,g as a,m as Me,c as Re,i as $,r as ee,t as te,ae as qe,j as st}from"./effects.cxkQmux7.js";import{c as I,a as g,t as ie,e as He}from"./template.BwN7TRoD.js";import{s as W,b as ne}from"./this.BmA335U8.js";import{p as n,l as ae,s as at}from"./props.DbzmGua_.js";import{t as Le,o as it,g as rt,w as lt,n as dt,x as ct,m as ue,r as Ge,s as ze,y as ut,q as Ne,j as Je,d as he,k as Ee,z as ft,l as gt,A as vt,B as Pe,c as pt,a as oe}from"./create.BfRhC9QK.js";import{i as H,a as se}from"./attributes.92vqw3Y3.js";import{b as Qe,u as mt,e as bt,a as _t,r as Ot,g as Ct,t as fe,c as yt}from"./updater.B0mDEZrk.js";import{s as We,a as ve}from"./store.c-pxfM0-.js";import{f as ht,c as Et}from"./utils.DvemnH4t.js";import{w as Pt,d as wt}from"./index.BUf4ql09.js";import{d as kt,u as Tt,g as Ft}from"./helpers.BekmFVoz.js";import{h as Xe}from"./focus.D50lsZzo.js";const At={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,disableFocusTrap:!1,closeOnEscape:!0,preventScroll:!1,onOpenChange:void 0,closeOnOutsideClick:!0,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},{name:ge}=gt("popover"),St=["trigger","content"];function Dt(d){const e={...At,...d},y=Le(it(e,"open","ids")),{positioning:f,arrowSize:c,disableFocusTrap:E,preventScroll:l,closeOnEscape:o,closeOnOutsideClick:u,portal:_,forceVisible:O,openFocus:P,closeFocus:T,onOutsideClick:z}=y,C=e.open??Pt(e.defaultOpen),h=rt(C,e?.onOpenChange),p=lt.writable(null),m=Le({...dt(St),...e.ids});ct(()=>{p.set(document.getElementById(m.trigger.get()))});function w(){h.set(!1);const t=document.getElementById(m.trigger.get());Xe({prop:T.get(),defaultEl:t})}const A=kt({open:h,activeTrigger:p,forceVisible:O}),k=ue(ge("content"),{stores:[A,_,m.content],returned:([t,i,s])=>({hidden:t&&Ge?void 0:!0,tabindex:-1,style:ze({display:t?void 0:"none"}),id:s,"data-state":t?"open":"closed","data-portal":ut(i)}),action:t=>{let i=Pe;const s=Ne([A,p,f,E,o,u,_],([D,F,j,pe,me,be,Fe])=>{i(),!(!D||!F)&&Ue().then(()=>{i(),i=Tt(t,{anchorElement:F,open:h,options:{floating:j,focusTrap:pe?null:{returnFocusOnDeactivate:!1,clickOutsideDeactivates:be,allowOutsideClick:!0,escapeDeactivates:me},modal:{shouldCloseOnInteractOutside:S,onClose:w,open:D,closeOnInteractOutside:be},escapeKeydown:me?{handler:()=>{w()}}:null,portal:Qe(t,Fe)}}).destroy})});return{destroy(){s(),i()}}}});function N(t){h.update(i=>!i),t&&t!==p.get()&&p.set(t)}function S(t){if(z.get()?.(t),t.defaultPrevented)return!1;const i=t.target,s=document.getElementById(m.trigger.get());return!(s&&vt(i)&&(i===s||s.contains(i)))}const b=ue(ge("trigger"),{stores:[A,m.content,m.trigger],returned:([t,i,s])=>({role:"button","aria-haspopup":"dialog","aria-expanded":t?"true":"false","data-state":Ye(t),"aria-controls":i,id:s}),action:t=>({destroy:Je(he(t,"click",()=>{N(t)}),he(t,"keydown",s=>{s.key!==Ee.ENTER&&s.key!==Ee.SPACE||(s.preventDefault(),N(t))}))})}),K=ue(ge("overlay"),{stores:[A],returned:([t])=>({hidden:t?void 0:!0,tabindex:-1,style:ze({display:t?void 0:"none"}),"aria-hidden":"true","data-state":Ye(t)}),action:t=>{let i=Pe,s=Pe,D=Pe;return o.get()&&(i=ft(t,{handler:()=>{w()}}).destroy),s=Ne([_],([F])=>{if(D(),F===null)return;const j=Qe(t,F);j!==null&&(D=mt(t,j).destroy)}),{destroy(){i(),s(),D()}}}}),L=ue(ge("arrow"),{stores:c,returned:t=>({"data-arrow":!0,style:ze({position:"absolute",width:`var(--arrow-size, ${t}px)`,height:`var(--arrow-size, ${t}px)`})})}),U=ue(ge("close"),{returned:()=>({type:"button"}),action:t=>({destroy:Je(he(t,"click",s=>{s.defaultPrevented||w()}),he(t,"keydown",s=>{s.defaultPrevented||s.key!==Ee.ENTER&&s.key!==Ee.SPACE||(s.preventDefault(),N())}))})});return Ne([h,p,l],([t,i,s])=>{if(!Ge)return;const D=[];if(t){i||Ue().then(()=>{const j=document.getElementById(m.trigger.get());pt(j)&&p.set(j)}),s&&D.push(bt());const F=i??document.getElementById(m.trigger.get());Xe({prop:P.get(),defaultEl:F})}return()=>{D.forEach(F=>F())}}),{ids:m,elements:{trigger:b,content:k,arrow:L,close:U,overlay:K},states:{open:h},options:y}}function Ye(d){return d?"open":"closed"}function Ze(){return{NAME:"popover",PARTS:["arrow","close","content","trigger"]}}function Bt(d){const{NAME:e,PARTS:y}=Ze(),f=_t(e,y),c={...Dt({positioning:{placement:"bottom",gutter:0},...Ot(d),forceVisible:!0}),getAttrs:f};return nt(e,c),{...c,updateOption:Ct(c.options)}}function Ke(){const{NAME:d}=Ze();return ot(d)}function xt(d){const y={...{side:"bottom",align:"center"},...d},{options:{positioning:f}}=Ke();Ft(f)(y)}function It(d,e){ke(e,!1);const y=We(),f=()=>ve(m,"$idValues",y);let c=n(e,"disableFocusTrap",24,()=>{}),E=n(e,"closeOnEscape",24,()=>{}),l=n(e,"closeOnOutsideClick",24,()=>{}),o=n(e,"preventScroll",24,()=>{}),u=n(e,"portal",24,()=>{}),_=n(e,"open",28,()=>{}),O=n(e,"onOpenChange",24,()=>{}),P=n(e,"openFocus",24,()=>{}),T=n(e,"closeFocus",24,()=>{}),z=n(e,"onOutsideClick",24,()=>{});const{updateOption:C,states:{open:h},ids:p}=Bt({disableFocusTrap:c(),closeOnEscape:E(),closeOnOutsideClick:l(),preventScroll:o(),portal:u(),defaultOpen:_(),openFocus:P(),closeFocus:T(),onOutsideClick:z(),onOpenChange:({next:k})=>(_()!==k&&(O()?.(k),_(k)),k),positioning:{gutter:0,offset:{mainAxis:1}}}),m=wt([p.content,p.trigger],([k,N])=>({content:k,trigger:N}));v(()=>r(_()),()=>{_()!==void 0&&h.set(_())}),v(()=>r(c()),()=>{C("disableFocusTrap",c())}),v(()=>r(E()),()=>{C("closeOnEscape",E())}),v(()=>r(l()),()=>{C("closeOnOutsideClick",l())}),v(()=>r(o()),()=>{C("preventScroll",o())}),v(()=>r(u()),()=>{C("portal",u())}),v(()=>r(P()),()=>{C("openFocus",P())}),v(()=>r(T()),()=>{C("closeFocus",T())}),v(()=>r(z()),()=>{C("onOutsideClick",z())}),Ve(),we();var w=I(),A=x(w);W(A,e,"default",{get ids(){return f()}},null),g(d,w),Te()}var zt=ie("<div><!></div>"),Nt=ie("<div><!></div>"),Mt=ie("<div><!></div>"),Rt=ie("<div><!></div>"),Vt=ie("<div><!></div>");function Wt(d,e){const y=ae(e,["children","$$slots","$$events","$$legacy"]),f=ae(y,["transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el"]);ke(e,!1);const c=We(),E=()=>ve(i,"$content",c),l=()=>ve(s,"$open",c),o=Me();let u=n(e,"transition",24,()=>{}),_=n(e,"transitionConfig",24,()=>{}),O=n(e,"inTransition",24,()=>{}),P=n(e,"inTransitionConfig",24,()=>{}),T=n(e,"outTransition",24,()=>{}),z=n(e,"outTransitionConfig",24,()=>{}),C=n(e,"asChild",8,!1),h=n(e,"id",24,()=>{}),p=n(e,"side",8,"bottom"),m=n(e,"align",8,"center"),w=n(e,"sideOffset",8,0),A=n(e,"alignOffset",8,0),k=n(e,"collisionPadding",8,8),N=n(e,"avoidCollisions",8,!0),S=n(e,"collisionBoundary",24,()=>{}),b=n(e,"sameWidth",8,!1),K=n(e,"fitViewport",8,!1),L=n(e,"strategy",8,"absolute"),U=n(e,"overlap",8,!1),t=n(e,"el",28,()=>{});const{elements:{content:i},states:{open:s},ids:D,getAttrs:F}=Ke(),j=F("content");v(()=>r(h()),()=>{h()&&D.content.set(h())}),v(()=>E(),()=>{Re(o,E())}),v(()=>a(o),()=>{Object.assign(a(o),j)}),v(()=>(l(),r(p()),r(m()),r(w()),r(A()),r(k()),r(N()),r(S()),r(b()),r(K()),r(L()),r(U())),()=>{l()&&xt({side:p(),align:m(),sideOffset:w(),alignOffset:A(),collisionPadding:k(),avoidCollisions:N(),collisionBoundary:S(),sameWidth:b(),fitViewport:K(),strategy:L(),overlap:U()})}),Ve(),we();var pe=I(),me=x(pe);{var be=G=>{var re=I(),Ae=x(re);W(Ae,e,"default",{get builder(){return a(o)}},null),g(G,re)},Fe=G=>{var re=I(),Ae=x(re);{var $e=J=>{var M=zt();let _e;var Se=$(M);W(Se,e,"default",{get builder(){return a(o)}},null),ee(M),ne(M,le=>t(le),()=>t()),oe(M,le=>a(o).action?.(le)),te(()=>_e=se(M,_e,{...a(o),...f})),fe(3,M,u,_),g(J,M)},et=J=>{var M=I(),_e=x(M);{var Se=Q=>{var B=Nt();let Oe;var De=$(B);W(De,e,"default",{get builder(){return a(o)}},null),ee(B),ne(B,de=>t(de),()=>t()),oe(B,de=>a(o).action?.(de)),te(()=>Oe=se(B,Oe,{...a(o),...f})),fe(1,B,O,P),fe(2,B,T,z),g(Q,B)},le=Q=>{var B=I(),Oe=x(B);{var De=X=>{var R=Mt();let Ce;var Be=$(R);W(Be,e,"default",{get builder(){return a(o)}},null),ee(R),ne(R,ce=>t(ce),()=>t()),oe(R,ce=>a(o).action?.(ce)),te(()=>Ce=se(R,Ce,{...a(o),...f})),fe(1,R,O,P),g(X,R)},de=X=>{var R=I(),Ce=x(R);{var Be=Y=>{var V=Rt();let ye;var xe=$(V);W(xe,e,"default",{get builder(){return a(o)}},null),ee(V),ne(V,q=>t(q),()=>t()),oe(V,q=>a(o).action?.(q)),te(()=>ye=se(V,ye,{...a(o),...f})),fe(2,V,T,z),g(Y,V)},ce=Y=>{var V=I(),ye=x(V);{var xe=q=>{var Z=Vt();let je;var tt=$(Z);W(tt,e,"default",{get builder(){return a(o)}},null),ee(Z),ne(Z,Ie=>t(Ie),()=>t()),oe(Z,Ie=>a(o).action?.(Ie)),te(()=>je=se(Z,je,{...a(o),...f})),g(q,Z)};H(ye,q=>{l()&&q(xe)},!0)}g(Y,V)};H(Ce,Y=>{T()&&l()?Y(Be):Y(ce,!1)},!0)}g(X,R)};H(Oe,X=>{O()&&l()?X(De):X(de,!1)},!0)}g(Q,B)};H(_e,Q=>{O()&&T()&&l()?Q(Se):Q(le,!1)},!0)}g(J,M)};H(Ae,J=>{u()&&l()?J($e):J(et,!1)},!0)}g(G,re)};H(me,G=>{C()&&l()?G(be):G(Fe,!1)})}g(d,pe),Te()}var Kt=ie("<button><!></button>");function jt(d,e){const y=ae(e,["children","$$slots","$$events","$$legacy"]),f=ae(y,["asChild","id","el"]);ke(e,!1);const c=We(),E=()=>ve(z,"$open",c),l=()=>ve(T,"$trigger",c),o=Me(),u=Me();let _=n(e,"asChild",8,!1),O=n(e,"id",24,()=>{}),P=n(e,"el",28,()=>{});const{elements:{trigger:T},states:{open:z},ids:C,getAttrs:h}=Ke(),p=yt(),m=h("trigger");v(()=>r(O()),()=>{O()&&C.trigger.set(O())}),v(()=>E(),()=>{Re(o,{...m,"aria-controls":E()?C.content:void 0})}),v(()=>l(),()=>{Re(u,l())}),v(()=>(a(u),a(o)),()=>{Object.assign(a(u),a(o))}),Ve(),we();var w=I(),A=x(w);{var k=S=>{var b=I(),K=x(b);W(K,e,"default",{get builder(){return a(u)}},null),g(S,b)},N=S=>{var b=Kt();let K;var L=$(b);W(L,e,"default",{get builder(){return a(u)}},null),ee(b),ne(b,U=>P(U),()=>P()),oe(b,U=>a(u).action?.(U)),qe(()=>He("m-click",b,p)),qe(()=>He("m-keydown",b,p)),te(()=>K=se(b,K,{...a(u),type:"button",...f})),g(S,b)};H(A,S=>{_()?S(k):S(N,!1)})}g(d,w),Te()}function nn(d,e){const y=ae(e,["children","$$slots","$$events","$$legacy"]),f=ae(y,["class","transition","transitionConfig"]);ke(e,!1);let c=n(e,"class",24,()=>{}),E=n(e,"transition",8,ht),l=n(e,"transitionConfig",24,()=>{});we();var o=st(()=>Et("bg-popover text-popover-foreground z-50 w-72 rounded-md border p-4 shadow-md outline-none",c()));Wt(d,at({get transition(){return E()},get transitionConfig(){return l()},get class(){return a(o)}},()=>f,{children:(u,_)=>{var O=I(),P=x(O);W(P,e,"default",{},null),g(u,O)},$$slots:{default:!0}})),Te()}const on=It,sn=jt;export{nn as P,on as R,sn as T};
