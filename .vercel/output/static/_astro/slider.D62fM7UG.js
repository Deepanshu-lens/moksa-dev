import{i as at}from"./legacy.BEeXhY1S.js";import{aN as Wt,aO as Dt,p as nt,l as z,d as q,c as gt,g as A,a as ht,f as G,b as rt,m as pt,i as Rt,r as Et,t as vt,ae as zt,aM as Bt,s as Ht,j as At}from"./effects.cxkQmux7.js";import{c as X,a as j,t as ot,e as Lt}from"./template.BwN7TRoD.js";import{e as jt,i as Ut}from"./each.Cd5X-yTW.js";import{l as F,p as N,s as It}from"./props.DbzmGua_.js";import{t as Kt,o as qt,g as Ft,w as Q,n as Gt,m as Ct,h as ut,s as dt,p as Mt,q as Ot,r as Xt,j as Yt,u as Z,l as Jt,v as ft,c as bt,d as Qt,k as H,a as _t}from"./create.BfRhC9QK.js";import{i as kt,a as yt}from"./attributes.92vqw3Y3.js";import{s as st,b as wt}from"./this.BmA335U8.js";import{s as Nt,a as et}from"./store.c-pxfM0-.js";import{w as $,d as Zt}from"./index.BUf4ql09.js";import{a as $t,r as te,g as ee,c as se}from"./updater.B0mDEZrk.js";import{c as ae}from"./utils.DvemnH4t.js";function mt(C,t,w,f){const c=(C-(isNaN(t)?0:t))%f;let b=Math.abs(c)*2>=f?C+Math.sign(c)*(f-Math.abs(c)):C-c;isNaN(t)?!isNaN(w)&&b>w&&(b=Math.floor(w/f)*f):b<t?b=t:!isNaN(w)&&b>w&&(b=t+Math.floor((w-t)/f)*f);const h=f.toString(),M=h.indexOf("."),v=M>=0?h.length-M:0;if(v>0){const T=Math.pow(10,v);b=Math.round(b*T)/T}return b}const ne={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:tt}=Jt("slider"),re=C=>{const t={...ne,...C},w=Kt(qt(t,"value","onValueChange","defaultValue")),{min:f,max:c,step:b,orientation:h,dir:M,disabled:v}=w,T=t.value??$(t.defaultValue),V=Ft(T,t?.onValueChange),S=Q($(!1)),P=Q($(0)),W=Q($(null)),B=Gt(["root"]),o=(e,s)=>{V.update(i=>{if(!i)return[e];if(i[s]===e)return i;const l=[...i],m=l[s]>e?-1:1;function n(){l[s]=l[s+m],l[s+m]=e;const y=k();y&&(y[s+m].focus(),W.set({thumb:y[s+m],index:s+m}))}if(m===-1&&e<l[s-1])return n(),l;if(m===1&&e>l[s+1])return n(),l;const p=f.get(),r=c.get(),u=b.get();return l[s]=mt(e,p,r,u),l})},k=()=>{const e=ft(B.root);return e?Array.from(e.querySelectorAll('[data-melt-part="thumb"]')).filter(s=>bt(s)):null},O=Zt([f,c],([e,s])=>i=>(i-e)/(s-e)*100),R=Q.derived([h,M],([e,s])=>e==="horizontal"?s==="rtl"?"rl":"lr":s==="rtl"?"tb":"bt"),K=Ct(tt(),{stores:[v,h,M],returned:([e,s,i])=>({dir:i,disabled:ut(e),"data-disabled":ut(e),"data-orientation":s,style:e?void 0:`touch-action: ${s==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":B.root})}),it=Ct(tt("range"),{stores:[V,R,O],returned:([e,s,i])=>{const l=e.length>1?i(Math.min(...e)??0):0,m=100-i(Math.max(...e)??0),n={position:"absolute"};switch(s){case"lr":{n.left=`${l}%`,n.right=`${m}%`;break}case"rl":{n.right=`${l}%`,n.left=`${m}%`;break}case"bt":{n.bottom=`${l}%`,n.top=`${m}%`;break}case"tb":{n.top=`${l}%`,n.bottom=`${m}%`;break}}return{style:dt(n)}}}),lt=Mt(tt("thumb"),{stores:[V,O,f,c,v,h,R],returned:([e,s,i,l,m,n,p])=>Array.from({length:e.length||1},(u,y)=>{P.get()<e.length&&P.update(_=>_+1);const g=e[y],d=`${s(g)}%`,a={position:"absolute"};switch(p){case"lr":{a.left=d,a.translate="-50% 0";break}case"rl":{a.right=d,a.translate="50% 0";break}case"bt":{a.bottom=d,a.translate="0 50%";break}case"tb":{a.top=d,a.translate="0 -50%";break}}return{role:"slider","aria-valuemin":i,"aria-valuemax":l,"aria-valuenow":g,"aria-disabled":ut(m),"aria-orientation":n,"data-melt-part":"thumb","data-value":g,style:dt(a),tabindex:m?-1:0}}),action:e=>({destroy:Qt(e,"keydown",i=>{if(v.get())return;const l=i.currentTarget;if(!bt(l))return;const m=k();if(!m?.length)return;const n=m.indexOf(l);if(P.set(n),![H.ARROW_LEFT,H.ARROW_RIGHT,H.ARROW_UP,H.ARROW_DOWN,H.HOME,H.END].includes(i.key))return;i.preventDefault();const p=f.get(),r=c.get(),u=b.get(),y=V.get(),U=h.get(),g=R.get(),d=y[n];switch(i.key){case H.HOME:{o(p,n);break}case H.END:{o(r,n);break}case H.ARROW_LEFT:{if(U!=="horizontal")break;i.metaKey?o(g==="rl"?r:p,n):g==="rl"&&d<r?o(d+u,n):g==="lr"&&d>p&&o(d-u,n);break}case H.ARROW_RIGHT:{if(U!=="horizontal")break;i.metaKey?o(g==="rl"?p:r,n):g==="rl"&&d>p?o(d-u,n):g==="lr"&&d<r&&o(d+u,n);break}case H.ARROW_UP:{i.metaKey?o(g==="tb"?p:r,n):g==="tb"&&d>p?o(d-u,n):g!=="tb"&&d<r&&o(d+u,n);break}case H.ARROW_DOWN:{i.metaKey?o(g==="tb"?r:p,n):g==="tb"&&d<r?o(d+u,n):g!=="tb"&&d>p&&o(d-u,n);break}}})})}),ct=Mt(tt("tick"),{stores:[V,f,c,b,R],returned:([e,s,i,l,m])=>{const n=i-s;let p=Math.ceil(n/l);return n%l==0&&p++,Array.from({length:p},(r,u)=>{const y=`${u*(l/(i-s))*100}%`,U=u===0,g=u===p-1,d=U?0:g?-100:-50,a={position:"absolute"};switch(m){case"lr":{a.left=y,a.translate=`${d}% 0`;break}case"rl":{a.right=y,a.translate=`${-d}% 0`;break}case"bt":{a.bottom=y,a.translate=`0 ${-d}%`;break}case"tb":{a.top=y,a.translate=`0 ${d}%`;break}}const _=s+u*l;return{"data-bounded":(e.length===1?_<=e[0]:e[0]<=_&&_<=e[e.length-1])?!0:void 0,"data-value":_,style:dt(a)}})}});return Ot([K,f,c,v,h,R,b],([e,s,i,l,m,n,p])=>{if(!Xt||l)return;const r=(a,_,E,L)=>{const D=(a-E)/(L-E)*(i-s)+s;if(D<s)o(s,_);else if(D>i)o(i,_);else{const x=p,I=s,J=Math.floor((D-I)/x),Pt=I+J*x+x/2,xt=I+(J+1)*x+x/2,Vt=D>=Pt&&D<xt?(J+1)*x+I:J*x+I;Vt<=i&&o(Vt,_)}},u=a=>{const _=k();if(!_)return;_.forEach(D=>D.blur());const E=_.map(D=>{if(m==="horizontal"){const{left:x,right:I}=D.getBoundingClientRect();return Math.abs(a.clientX-(x+I)/2)}else{const{top:x,bottom:I}=D.getBoundingClientRect();return Math.abs(a.clientY-(x+I)/2)}}),L=_[E.indexOf(Math.min(...E))],Y=_.indexOf(L);return{thumb:L,index:Y}},y=a=>{if(!S.get())return;a.preventDefault(),a.stopPropagation();const _=ft(e["data-melt-id"]),E=W.get();if(!_||!E)return;E.thumb.focus();const{left:L,right:Y,top:D,bottom:x}=_.getBoundingClientRect();switch(n){case"lr":{r(a.clientX,E.index,L,Y);break}case"rl":{r(a.clientX,E.index,Y,L);break}case"bt":{r(a.clientY,E.index,x,D);break}case"tb":{r(a.clientY,E.index,D,x);break}}},U=a=>{if(a.button!==0)return;const _=ft(e["data-melt-id"]),E=u(a);if(!E||!_)return;const L=a.target;!bt(L)||!_.contains(L)||(a.preventDefault(),W.set(E),E.thumb.focus(),S.set(!0),y(a))},g=()=>{S.set(!1)},d=Yt(Z(document,"pointerdown",U),Z(document,"pointerup",g),Z(document,"pointerleave",g),Z(document,"pointermove",y));return()=>{d()}}),Ot([b,f,c,V],function([s,i,l,m]){const n=r=>mt(r,i,l,s)===r,p=r=>mt(r,i,l,s);m.some(r=>!n(r))&&V.update(r=>r.map(p))}),{elements:{root:K,thumbs:lt,range:it,ticks:ct},states:{value:V},options:w}};function St(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function oe(C){const{NAME:t,PARTS:w}=St(),f=$t(t,w),c={...re(te(C)),getAttrs:f};return Wt(t,c),{...c,updateOption:ee(c.options)}}function Tt(){const{NAME:C}=St();return Dt(C)}var ie=ot("<span><!></span>");function le(C,t){const w=F(t,["children","$$slots","$$events","$$legacy"]),f=F(w,["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"]);nt(t,!1);const c=Nt(),b=()=>et(K,"$root",c),h=()=>et(it,"$ticks",c),M=()=>et(lt,"$thumbs",c),v=pt();let T=N(t,"disabled",24,()=>{}),V=N(t,"min",24,()=>{}),S=N(t,"max",24,()=>{}),P=N(t,"step",24,()=>{}),W=N(t,"orientation",24,()=>{}),B=N(t,"dir",24,()=>{}),o=N(t,"value",28,()=>{}),k=N(t,"onValueChange",24,()=>{}),O=N(t,"asChild",8,!1),R=N(t,"el",28,()=>{});const{elements:{root:K,ticks:it,thumbs:lt},states:{value:ct},updateOption:e,getAttrs:s}=oe({disabled:T(),dir:B(),min:V(),max:S(),step:P(),orientation:W(),defaultValue:o(),onValueChange:({next:r})=>(o()!==r&&(k()?.(r),o(r)),r)}),i=s("root");z(()=>q(o()),()=>{o()!==void 0&&ct.set(o())}),z(()=>q(T()),()=>{e("disabled",T())}),z(()=>q(V()),()=>{e("min",V())}),z(()=>q(S()),()=>{e("max",S())}),z(()=>q(P()),()=>{e("step",P())}),z(()=>q(W()),()=>{e("orientation",W())}),z(()=>q(B()),()=>{e("dir",B())}),z(()=>b(),()=>{gt(v,b())}),z(()=>A(v),()=>{Object.assign(A(v),i)}),ht(),at();var l=X(),m=G(l);{var n=r=>{var u=X(),y=G(u);st(y,t,"default",{get builder(){return A(v)},get ticks(){return h()},get thumbs(){return M()}},null),j(r,u)},p=r=>{var u=ie();let y;var U=Rt(u);st(U,t,"default",{get builder(){return A(v)},get ticks(){return h()},get thumbs(){return M()}},null),Et(u),wt(u,g=>R(g),()=>R()),_t(u,g=>A(v).action?.(g)),vt(()=>y=yt(u,y,{...A(v),...f})),j(r,u)};kt(m,r=>{O()?r(n):r(p,!1)})}j(C,l),rt()}var ce=ot("<span></span>");function ue(C,t){const w=F(t,["children","$$slots","$$events","$$legacy"]),f=F(w,["asChild","el"]);nt(t,!1);const c=Nt(),b=()=>et(T,"$range",c),h=pt();let M=N(t,"asChild",8,!1),v=N(t,"el",28,()=>{});const{elements:{range:T},getAttrs:V}=Tt(),S=V("range");z(()=>b(),()=>{gt(h,b())}),z(()=>A(h),()=>{Object.assign(A(h),S)}),ht(),at();var P=X(),W=G(P);{var B=k=>{var O=X(),R=G(O);st(R,t,"default",{get builder(){return A(h)}},null),j(k,O)},o=k=>{var O=ce();let R;wt(O,K=>v(K),()=>v()),_t(O,K=>A(h).action?.(K)),vt(()=>R=yt(O,R,{...A(h),...f})),j(k,O)};kt(W,k=>{M()?k(B):k(o,!1)})}j(C,P),rt()}var de=ot("<span></span>");function fe(C,t){const w=F(t,["children","$$slots","$$events","$$legacy"]),f=F(w,["asChild","el","thumb"]);nt(t,!1);const c=pt();let b=N(t,"asChild",8,!1),h=N(t,"el",28,()=>{}),M=N(t,"thumb",8);const{getAttrs:v}=Tt(),T=se(),V=v("thumb");z(()=>q(M()),()=>{gt(c,M())}),z(()=>A(c),()=>{Object.assign(A(c),V)}),ht(),at();var S=X(),P=G(S);{var W=o=>{var k=X(),O=G(k);st(O,t,"default",{get builder(){return A(c)}},null),j(o,k)},B=o=>{var k=de();let O;wt(k,R=>h(R),()=>h()),_t(k,R=>A(c).action?.(R)),zt(()=>Lt("m-keydown",k,T)),vt(()=>O=yt(k,O,{...A(c),...f})),j(o,k)};kt(P,o=>{b()?o(W):o(B,!1)})}j(C,S),rt()}var be=ot('<span class="bg-secondary relative h-2 w-full grow overflow-hidden rounded-full"><!></span> <!>',1);function Me(C,t){const w=F(t,["children","$$slots","$$events","$$legacy"]),f=F(w,["class","value"]);nt(t,!1);let c=N(t,"class",24,()=>{}),b=N(t,"value",28,()=>[0]);at();var h=At(()=>ae("relative flex w-full touch-none select-none items-center",c()));le(C,It({get class(){return A(h)}},()=>f,{get value(){return b()},set value(M){b(M)},children:Bt,$$slots:{default:(M,v)=>{const T=At(()=>v.thumbs);var V=be(),S=G(V),P=Rt(S);ue(P,{class:"bg-primary absolute h-full"}),Et(S);var W=Ht(S,2);jt(W,1,()=>A(T),Ut,(B,o)=>{fe(B,{get thumb(){return A(o)},class:"border-primary bg-background ring-offset-background focus-visible:ring-ring block h-5 w-5 rounded-full border-2 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})}),j(M,V)}},$$legacy:!0})),rt()}export{Me as S};
