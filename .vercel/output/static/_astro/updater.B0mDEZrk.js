import{E as Me,aU as Ke,aV as je,ae as $e,z as Ue,aW as Ve,T as de,as as qe,B as Ge,a4 as q,aX as We,aY as Xe,aI as ve,aw as be,$ as Ye,C as ze}from"./effects.cxkQmux7.js";import{a as He}from"./render.EQ9IInvK.js";import{B as X,c as ke,A as le,H as Ze,j as pe,u as x}from"./create.BfRhC9QK.js";import{r as he,w as me}from"./index.BUf4ql09.js";import{c as Je}from"./index-client.CyLyvevL.js";const Qe=()=>performance.now(),O={tick:r=>requestAnimationFrame(r),now:()=>Qe(),tasks:new Set};function Pe(){const r=O.now();O.tasks.forEach(e=>{e.c(r)||(O.tasks.delete(e),e.f())}),O.tasks.size!==0&&O.tick(Pe)}function et(r){let e;return O.tasks.size===0&&O.tick(Pe),{promise:new Promise(t=>{O.tasks.add(e={c:r,f:t})}),abort(){O.tasks.delete(e)}}}function z(r,e){r.dispatchEvent(new CustomEvent(e))}function tt(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function ye(r){const e={},t=r.split(";");for(const a of t){const[o,u]=a.split(":");if(!o||u===void 0)break;const n=tt(o.trim());e[n]=u.trim()}return e}const rt=r=>r;function Ht(r,e,t,a){var o=(r&Ve)!==0,u=(r&We)!==0,n=o&&u,f=(r&Xe)!==0,l=n?"both":o?"in":"out",d,p=e.inert,v,E;function S(){var F=Ye,A=de;ve(null),be(null);try{return d??=t()(e,a?.()??{},{direction:l})}finally{ve(F),be(A)}}var b={is_global:f,in(){if(e.inert=p,!o){E?.abort(),E?.reset?.();return}u||v?.abort(),z(e,"introstart"),v=se(e,S(),E,1,()=>{z(e,"introend"),v?.abort(),v=d=void 0})},out(F){if(!u){F?.(),d=void 0;return}e.inert=!0,z(e,"outrostart"),E=se(e,S(),v,0,()=>{z(e,"outroend"),F?.()})},stop:()=>{v?.abort(),E?.abort()}},g=de;if((g.transitions??=[]).push(b),o&&He){var N=f;if(!N){for(var m=g.parent;m&&m.f&Me;)for(;(m=m.parent)&&!(m.f&Ke););N=!m||(m.f&je)!==0}N&&$e(()=>{Ue(()=>b.in())})}}function se(r,e,t,a,o){var u=a===1;if(qe(e)){var n,f=!1;return Ge(()=>{if(!f){var N=e({direction:u?"in":"out"});n=se(r,N,t,a,o)}}),{abort:()=>{f=!0,n?.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(t?.deactivate(),!e?.duration)return o(),{abort:q,deactivate:q,reset:q,t:()=>a};const{delay:l=0,css:d,tick:p,easing:v=rt}=e;var E=[];if(u&&t===void 0&&(p&&p(0,1),d)){var S=ye(d(0,1));E.push(S,S)}var b=()=>1-a,g=r.animate(E,{duration:l});return g.onfinish=()=>{var N=t?.t()??1-a;t?.abort();var m=a-N,F=e.duration*Math.abs(m),A=[];if(F>0){if(d)for(var D=Math.ceil(F/16.666666666666668),M=0;M<=D;M+=1){var j=N+m*v(M/D),Y=d(j,1-j);A.push(ye(Y))}b=()=>{var R=g.currentTime;return N+m*v(R/F)},p&&et(()=>{if(g.playState!=="running")return!1;var R=b();return p(R,1-R),!0})}g=r.animate(A,{duration:F,fill:"forwards"}),g.onfinish=()=>{b=()=>a,p?.(a,1-a),o()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=q)},deactivate:()=>{o=q},reset:()=>{a===0&&p?.(1,0)},t:()=>b()}}function at(r){return new Promise(e=>setTimeout(e,r))}const Ie=()=>typeof window<"u";function nt(){return navigator.userAgentData?.platform??navigator.platform}const Ae=r=>Ie()&&r.test(nt().toLowerCase()),it=()=>Ie()&&!!navigator.maxTouchPoints,ot=()=>Ae(/^mac/)&&!it(),st=()=>Ae(/mac|iphone|ipad|ipod/i),ut=()=>st()&&!ot(),ie="data-melt-scroll-lock";function ge(r,e){if(!r)return;const t=r.style.cssText;return Object.assign(r.style,e),()=>{r.style.cssText=t}}function ct(r,e,t){if(!r)return;const a=r.style.getPropertyValue(e);return r.style.setProperty(e,t),()=>{a?r.style.setProperty(e,a):r.style.removeProperty(e)}}function lt(r){const e=r.getBoundingClientRect().left;return Math.round(e)+r.scrollLeft?"paddingLeft":"paddingRight"}function Zt(r){const e=document,t=e.defaultView??window,{documentElement:a,body:o}=e;if(o.hasAttribute(ie))return X;o.setAttribute(ie,"");const n=t.innerWidth-a.clientWidth,f=()=>ct(a,"--scrollbar-width",`${n}px`),l=lt(a),d=t.getComputedStyle(o)[l],p=()=>ge(o,{overflow:"hidden",[l]:`calc(${d} + ${n}px)`}),v=()=>{const{scrollX:S,scrollY:b,visualViewport:g}=t,N=g?.offsetLeft??0,m=g?.offsetTop??0,F=ge(o,{position:"fixed",overflow:"hidden",top:`${-(b-Math.floor(m))}px`,left:`${-(S-Math.floor(N))}px`,right:"0",[l]:`calc(${d} + ${n}px)`});return()=>{F?.(),t.scrollTo(S,b)}},E=[f(),ut()?v():p()];return()=>{E.forEach(S=>S?.()),o.removeAttribute(ie)}}function ft(r){let e=r.parentElement;for(;ke(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Jt(r,e){return e!==void 0?e:ft(r)==="body"?document.body:null}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Oe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],J=Oe.join(","),De=typeof Element>"u",B=De?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Q=!De&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r?.ownerDocument},ee=function r(e,t){var a;t===void 0&&(t=!0);var o=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),u=o===""||o==="true",n=u||t&&e&&r(e.parentNode);return n},dt=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},Ce=function(e,t,a){if(ee(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(J));return t&&B.call(e,J)&&o.unshift(e),o=o.filter(a),o},Re=function r(e,t,a){for(var o=[],u=Array.from(e);u.length;){var n=u.shift();if(!ee(n,!1))if(n.tagName==="SLOT"){var f=n.assignedElements(),l=f.length?f:n.children,d=r(l,!0,a);a.flatten?o.push.apply(o,d):o.push({scopeParent:n,candidates:d})}else{var p=B.call(n,J);p&&a.filter(n)&&(t||!e.includes(n))&&o.push(n);var v=n.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(n),E=!ee(v,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(n));if(v&&E){var S=r(v===!0?n.children:v.children,!0,a);a.flatten?o.push.apply(o,S):o.push({scopeParent:n,candidates:S})}else u.unshift.apply(u,n.children)}}return o},Le=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},_=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||dt(e))&&!Le(e)?0:e.tabIndex},vt=function(e,t){var a=_(e);return a<0&&t&&!Le(e)?0:a},bt=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},xe=function(e){return e.tagName==="INPUT"},pt=function(e){return xe(e)&&e.type==="hidden"},ht=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},mt=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},yt=function(e){if(!e.name)return!0;var t=e.form||Q(e),a=function(f){return t.querySelectorAll('input[type="radio"][name="'+f+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=a(window.CSS.escape(e.name));else try{o=a(e.name)}catch(n){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",n.message),!1}var u=mt(o,e.form);return!u||u===e},gt=function(e){return xe(e)&&e.type==="radio"},wt=function(e){return gt(e)&&!yt(e)},Tt=function(e){var t,a=e&&Q(e),o=(t=a)===null||t===void 0?void 0:t.host,u=!1;if(a&&a!==e){var n,f,l;for(u=!!((n=o)!==null&&n!==void 0&&(f=n.ownerDocument)!==null&&f!==void 0&&f.contains(o)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!u&&o;){var d,p,v;a=Q(o),o=(d=a)===null||d===void 0?void 0:d.host,u=!!((p=o)!==null&&p!==void 0&&(v=p.ownerDocument)!==null&&v!==void 0&&v.contains(o))}}return u},we=function(e){var t=e.getBoundingClientRect(),a=t.width,o=t.height;return a===0&&o===0},Et=function(e,t){var a=t.displayCheck,o=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var u=B.call(e,"details>summary:first-of-type"),n=u?e.parentElement:e;if(B.call(n,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof o=="function"){for(var f=e;e;){var l=e.parentElement,d=Q(e);if(l&&!l.shadowRoot&&o(l)===!0)return we(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=f}if(Tt(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return we(e);return!1},Nt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var o=t.children.item(a);if(o.tagName==="LEGEND")return B.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},te=function(e,t){return!(t.disabled||ee(t)||pt(t)||Et(t,e)||ht(t)||Nt(t))},ue=function(e,t){return!(wt(t)||_(t)<0||!te(e,t))},Ft=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},St=function r(e){var t=[],a=[];return e.forEach(function(o,u){var n=!!o.scopeParent,f=n?o.scopeParent:o,l=vt(f,n),d=n?r(o.candidates):f;l===0?n?t.push.apply(t,d):t.push(f):a.push({documentOrder:u,tabIndex:l,item:o,isScope:n,content:d})}),a.sort(bt).reduce(function(o,u){return u.isScope?o.push.apply(o,u.content):o.push(u.content),o},[]).concat(t)},kt=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Re([e],t.includeContainer,{filter:ue.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ft}):a=Ce(e,t.includeContainer,ue.bind(null,t)),St(a)},Pt=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Re([e],t.includeContainer,{filter:te.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=Ce(e,t.includeContainer,te.bind(null,t)),a},K=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return B.call(e,J)===!1?!1:ue(t,e)},It=Oe.concat("iframe").join(","),oe=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return B.call(e,It)===!1?!1:te(t,e)};/*!
* focus-trap 7.6.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ce(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,a=Array(e);t<e;t++)a[t]=r[t];return a}function At(r){if(Array.isArray(r))return ce(r)}function Ot(r,e,t){return(e=xt(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Dt(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Ct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Te(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,a)}return t}function Ee(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Te(Object(t),!0).forEach(function(a){Ot(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Te(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function Rt(r){return At(r)||Dt(r)||_t(r)||Ct()}function Lt(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function xt(r){var e=Lt(r,"string");return typeof e=="symbol"?e:e+""}function _t(r,e){if(r){if(typeof r=="string")return ce(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ce(r,e):void 0}}var Ne={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a.pause()}var o=e.indexOf(t);o===-1||e.splice(o,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&e[e.length-1].unpause()}},Bt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Mt=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},W=function(e){return e?.key==="Tab"||e?.keyCode===9},Kt=function(e){return W(e)&&!e.shiftKey},jt=function(e){return W(e)&&e.shiftKey},Fe=function(e){return setTimeout(e,0)},G=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,a):e},H=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},$t=[],Ut=function(e,t){var a=t?.document||document,o=t?.trapStack||$t,u=Ee({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Kt,isKeyBackward:jt},t),n={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,l=function(i,s,c){return i&&i[s]!==void 0?i[s]:u[c||s]},d=function(i,s){var c=typeof s?.composedPath=="function"?s.composedPath():void 0;return n.containerGroups.findIndex(function(y){var w=y.container,k=y.tabbableNodes;return w.contains(i)||c?.includes(w)||k.find(function(h){return h===i})})},p=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.hasFallback,y=c===void 0?!1:c,w=s.params,k=w===void 0?[]:w,h=u[i];if(typeof h=="function"&&(h=h.apply(void 0,Rt(k))),h===!0&&(h=void 0),!h){if(h===void 0||h===!1)return h;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var P=h;if(typeof h=="string"){try{P=a.querySelector(h)}catch(I){throw new Error("`".concat(i,'` appears to be an invalid selector; error="').concat(I.message,'"'))}if(!P&&!y)throw new Error("`".concat(i,"` as selector refers to no known node"))}return P},v=function(){var i=p("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!oe(i,u.tabbableOptions))if(d(a.activeElement)>=0)i=a.activeElement;else{var s=n.tabbableGroups[0],c=s&&s.firstTabbableNode;i=c||p("fallbackFocus")}else i===null&&(i=p("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},E=function(){if(n.containerGroups=n.containers.map(function(i){var s=kt(i,u.tabbableOptions),c=Pt(i,u.tabbableOptions),y=s.length>0?s[0]:void 0,w=s.length>0?s[s.length-1]:void 0,k=c.find(function(I){return K(I)}),h=c.slice().reverse().find(function(I){return K(I)}),P=!!s.find(function(I){return _(I)>0});return{container:i,tabbableNodes:s,focusableNodes:c,posTabIndexesFound:P,firstTabbableNode:y,lastTabbableNode:w,firstDomTabbableNode:k,lastDomTabbableNode:h,nextTabbableNode:function(L){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,C=s.indexOf(L);return C<0?U?c.slice(c.indexOf(L)+1).find(function(V){return K(V)}):c.slice(0,c.indexOf(L)).reverse().find(function(V){return K(V)}):s[C+(U?1:-1)]}}}),n.tabbableGroups=n.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),n.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(n.containerGroups.find(function(i){return i.posTabIndexesFound})&&n.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},S=function(i){var s=i.activeElement;if(s)return s.shadowRoot&&s.shadowRoot.activeElement!==null?S(s.shadowRoot):s},b=function(i){if(i!==!1&&i!==S(document)){if(!i||!i.focus){b(v());return}i.focus({preventScroll:!!u.preventScroll}),n.mostRecentlyFocusedNode=i,Bt(i)&&i.select()}},g=function(i){var s=p("setReturnFocus",{params:[i]});return s||(s===!1?!1:i)},N=function(i){var s=i.target,c=i.event,y=i.isBackward,w=y===void 0?!1:y;s=s||H(c),E();var k=null;if(n.tabbableGroups.length>0){var h=d(s,c),P=h>=0?n.containerGroups[h]:void 0;if(h<0)w?k=n.tabbableGroups[n.tabbableGroups.length-1].lastTabbableNode:k=n.tabbableGroups[0].firstTabbableNode;else if(w){var I=n.tabbableGroups.findIndex(function(ae){var ne=ae.firstTabbableNode;return s===ne});if(I<0&&(P.container===s||oe(s,u.tabbableOptions)&&!K(s,u.tabbableOptions)&&!P.nextTabbableNode(s,!1))&&(I=h),I>=0){var L=I===0?n.tabbableGroups.length-1:I-1,U=n.tabbableGroups[L];k=_(s)>=0?U.lastTabbableNode:U.lastDomTabbableNode}else W(c)||(k=P.nextTabbableNode(s,!1))}else{var C=n.tabbableGroups.findIndex(function(ae){var ne=ae.lastTabbableNode;return s===ne});if(C<0&&(P.container===s||oe(s,u.tabbableOptions)&&!K(s,u.tabbableOptions)&&!P.nextTabbableNode(s))&&(C=h),C>=0){var V=C===n.tabbableGroups.length-1?0:C+1,fe=n.tabbableGroups[V];k=_(s)>=0?fe.firstTabbableNode:fe.firstDomTabbableNode}else W(c)||(k=P.nextTabbableNode(s))}}else k=p("fallbackFocus");return k},m=function(i){var s=H(i);if(!(d(s,i)>=0)){if(G(u.clickOutsideDeactivates,i)){f.deactivate({returnFocus:u.returnFocusOnDeactivate});return}G(u.allowOutsideClick,i)||i.preventDefault()}},F=function(i){var s=H(i),c=d(s,i)>=0;if(c||s instanceof Document)c&&(n.mostRecentlyFocusedNode=s);else{i.stopImmediatePropagation();var y,w=!0;if(n.mostRecentlyFocusedNode)if(_(n.mostRecentlyFocusedNode)>0){var k=d(n.mostRecentlyFocusedNode),h=n.containerGroups[k].tabbableNodes;if(h.length>0){var P=h.findIndex(function(I){return I===n.mostRecentlyFocusedNode});P>=0&&(u.isKeyForward(n.recentNavEvent)?P+1<h.length&&(y=h[P+1],w=!1):P-1>=0&&(y=h[P-1],w=!1))}}else n.containerGroups.some(function(I){return I.tabbableNodes.some(function(L){return _(L)>0})})||(w=!1);else w=!1;w&&(y=N({target:n.mostRecentlyFocusedNode,isBackward:u.isKeyBackward(n.recentNavEvent)})),b(y||n.mostRecentlyFocusedNode||v())}n.recentNavEvent=void 0},A=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n.recentNavEvent=i;var c=N({event:i,isBackward:s});c&&(W(i)&&i.preventDefault(),b(c))},D=function(i){(u.isKeyForward(i)||u.isKeyBackward(i))&&A(i,u.isKeyBackward(i))},M=function(i){Mt(i)&&G(u.escapeDeactivates,i)!==!1&&(i.preventDefault(),f.deactivate())},j=function(i){var s=H(i);d(s,i)>=0||G(u.clickOutsideDeactivates,i)||G(u.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},Y=function(){if(n.active)return Ne.activateTrap(o,f),n.delayInitialFocusTimer=u.delayInitialFocus?Fe(function(){b(v())}):b(v()),a.addEventListener("focusin",F,!0),a.addEventListener("mousedown",m,{capture:!0,passive:!1}),a.addEventListener("touchstart",m,{capture:!0,passive:!1}),a.addEventListener("click",j,{capture:!0,passive:!1}),a.addEventListener("keydown",D,{capture:!0,passive:!1}),a.addEventListener("keydown",M),f},R=function(){if(n.active)return a.removeEventListener("focusin",F,!0),a.removeEventListener("mousedown",m,!0),a.removeEventListener("touchstart",m,!0),a.removeEventListener("click",j,!0),a.removeEventListener("keydown",D,!0),a.removeEventListener("keydown",M),f},Be=function(i){var s=i.some(function(c){var y=Array.from(c.removedNodes);return y.some(function(w){return w===n.mostRecentlyFocusedNode})});s&&b(v())},re=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Be):void 0,$=function(){re&&(re.disconnect(),n.active&&!n.paused&&n.containers.map(function(i){re.observe(i,{subtree:!0,childList:!0})}))};return f={get active(){return n.active},get paused(){return n.paused},activate:function(i){if(n.active)return this;var s=l(i,"onActivate"),c=l(i,"onPostActivate"),y=l(i,"checkCanFocusTrap");y||E(),n.active=!0,n.paused=!1,n.nodeFocusedBeforeActivation=a.activeElement,s?.();var w=function(){y&&E(),Y(),$(),c?.()};return y?(y(n.containers.concat()).then(w,w),this):(w(),this)},deactivate:function(i){if(!n.active)return this;var s=Ee({onDeactivate:u.onDeactivate,onPostDeactivate:u.onPostDeactivate,checkCanReturnFocus:u.checkCanReturnFocus},i);clearTimeout(n.delayInitialFocusTimer),n.delayInitialFocusTimer=void 0,R(),n.active=!1,n.paused=!1,$(),Ne.deactivateTrap(o,f);var c=l(s,"onDeactivate"),y=l(s,"onPostDeactivate"),w=l(s,"checkCanReturnFocus"),k=l(s,"returnFocus","returnFocusOnDeactivate");c?.();var h=function(){Fe(function(){k&&b(g(n.nodeFocusedBeforeActivation)),y?.()})};return k&&w?(w(g(n.nodeFocusedBeforeActivation)).then(h,h),this):(h(),this)},pause:function(i){if(n.paused||!n.active)return this;var s=l(i,"onPause"),c=l(i,"onPostPause");return n.paused=!0,s?.(),R(),$(),c?.(),this},unpause:function(i){if(!n.paused||!n.active)return this;var s=l(i,"onUnpause"),c=l(i,"onPostUnpause");return n.paused=!1,s?.(),E(),Y(),$(),c?.(),this},updateContainerElements:function(i){var s=[].concat(i).filter(Boolean);return n.containers=s.map(function(c){return typeof c=="string"?a.querySelector(c):c}),n.active&&E(),$(),this}},f.updateContainerElements(e),f};function Qt(r={}){let e;const{immediate:t,...a}=r,o=me(!1),u=me(!1),n=v=>e?.activate(v),f=v=>{e?.deactivate(v)},l=()=>{e&&(e.pause(),u.set(!0))},d=()=>{e&&(e.unpause(),u.set(!1))};return{useFocusTrap:v=>(e=Ut(v,{...a,onActivate(){o.set(!0),r.onActivate?.()},onDeactivate(){o.set(!1),r.onDeactivate?.()}}),t&&n(),{destroy(){f(),e=void 0}}),hasFocus:he(o),isPaused:he(u),activate:n,deactivate:f,pause:l,unpause:d}}const Z=[],er=(r,e)=>{let t=X;function a(){const u=Z.indexOf(r);u>=0&&Z.splice(u,1)}function o(u){t();const{open:n,onClose:f,shouldCloseOnInteractOutside:l,closeOnInteractOutside:d}=u;at(100).then(()=>{n?Z.push(r):a()});function p(){return Ze(Z)===r}function v(){p()&&f&&(f(),a())}function E(b){const g=b.target;le(g)&&g&&p()&&(b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation())}function S(b){l?.(b)&&p()&&(b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation(),v())}t=Vt(r,{onInteractOutsideStart:E,onInteractOutside:d?S:void 0,enabled:n}).destroy}return o(e),{update:o,destroy(){a(),t()}}},tr=(r,e="body")=>{let t;if(!ke(e)&&typeof e!="string")return{destroy:X};async function a(u){if(e=u,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await ze(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);r.dataset.portal="",t.appendChild(r),r.hidden=!1}function o(){r.remove()}return a(e),{update:a,destroy:o}},Vt=(r,e)=>{let t=X,a=X,o=!1,u=!1,n=!1;function f(p){t(),a();const{onInteractOutside:v,onInteractOutsideStart:E,enabled:S}=p;if(!S)return;function b(m){v&&Se(m,r)&&E?.(m);const F=m.target;le(F)&&_e(r,F)&&(u=!0),o=!0}function g(m){v?.(m)}const N=qt(r);if(typeof PointerEvent<"u"){const m=F=>{a();const A=D=>{l(D)&&g(D),d()};if(F.pointerType==="touch"){a=x(N,"click",A,{capture:!0,once:!0});return}A(F)};t=pe(x(N,"pointerdown",b,!0),x(N,"pointerup",m,!0))}else{const m=A=>{n?n=!1:l(A)&&g(A),d()},F=A=>{n=!0,l(A)&&g(A),d()};t=pe(x(N,"mousedown",b,!0),x(N,"mouseup",m,!0),x(N,"touchstart",b,!0),x(N,"touchend",F,!0))}}function l(p){return!!(o&&!u&&Se(p,r))}function d(){o=!1,u=!1}return f(e),{update:f,destroy(){t(),a()}}};function Se(r,e){if("button"in r&&r.button>0)return!1;const t=r.target;if(!le(t))return!1;const a=t.ownerDocument;return!a||!a.documentElement.contains(t)?!1:e&&!_e(e,t)}function _e(r,e){return r===e||r.contains(e)}function qt(r){return r?.ownerDocument??document}function rr(r,e){const t={};return e.forEach(a=>{t[a]={[`data-${r}-${a}`]:""}}),a=>t[a]}function ar(r){return r?{"aria-disabled":"true","data-disabled":""}:{"aria-disabled":void 0,"data-disabled":void 0}}function nr(){const r=Je();return e=>{const{originalEvent:t}=e.detail,{cancelable:a}=e,o=t.type;r(o,{originalEvent:t,currentTarget:t.currentTarget},{cancelable:a})||e.preventDefault()}}function ir(r){const e={};for(const t in r){const a=r[t];a!==void 0&&(e[t]=a)}return e}function or(r){return function(e,t){if(t===void 0)return;const a=r[e];a&&a.set(t)}}export{rr as a,Jt as b,nr as c,ar as d,Zt as e,Qt as f,or as g,er as h,ir as r,at as s,Ht as t,tr as u};
