import{K as Z,o as $,L as X,k as N,I as k,n as z,M as G,N as F,O as j,P as V,Q as b,u as R,R as D,S as J,q as K,v as ee,B as ae,T as Y,U as L,V as q,W as O,X as re,Y as ne,Z as ie,D as fe,J as le,_ as te,$ as ue,a0 as se,a1 as ve,a2 as B,a3 as de,F as _e}from"./effects.D69rIdB6.js";function pe(l,e){return e}function oe(l,e,a,s){for(var v=[],d=e.length,t=0;t<d;t++)re(e[t].e,v,!0);var p=d>0&&v.length===0&&a!==null;if(p){var o=a.parentNode;ne(o),o.append(a),s.clear(),C(l,e[0].prev,e[d-1].next)}ie(v,()=>{for(var A=0;A<d;A++){var _=e[A];p||(s.delete(_.k),C(l,_.prev,_.next)),fe(_.e,!p)}})}function Te(l,e,a,s,v,d=null){var t=l,p={flags:e,items:new Map,first:null},o=(e&X)!==0;if(o){var A=l;t=N?k(le(A)):A.appendChild(Z())}N&&z();var _=null,I=!1;$(()=>{var x=a(),r=G(x)?x:x==null?[]:F(x),i=r.length;if(I&&i===0)return;I=i===0;let u=!1;if(N){var g=t.data===j;g!==(i===0)&&(t=V(),k(t),b(!1),u=!0)}if(N){for(var c=null,h,E=0;E<i;E++){if(R.nodeType===8&&R.data===te){t=R,u=!0,b(!1);break}var T=r[E],n=s(T,E);h=P(R,p,c,null,T,n,E,v,e),p.items.set(n,h),c=h}i>0&&k(V())}if(!N){var f=ue;ce(r,p,t,v,e,(f.f&D)!==0,s)}d!==null&&(i===0?_?J(_):_=K(()=>d(t)):_!==null&&ee(_,()=>{_=null})),u&&b(!0),a()}),N&&(t=R)}function ce(l,e,a,s,v,d,t,p){var o=(v&se)!==0,A=(v&(L|O))!==0,_=l.length,I=e.items,x=e.first,r=x,i,u=null,g,c=[],h=[],E,T,n,f;if(o)for(f=0;f<_;f+=1)E=l[f],T=t(E,f),n=I.get(T),n!==void 0&&(n.a?.measure(),(g??=new Set).add(n));for(f=0;f<_;f+=1){if(E=l[f],T=t(E,f),n=I.get(T),n===void 0){var Q=r?r.e.nodes_start:a;u=P(Q,e,u,u===null?e.first:u.next,E,T,f,s,v),I.set(T,u),c=[],h=[],r=u.next;continue}if(A&&he(n,E,f,v),n.e.f&D&&(J(n.e),o&&(n.a?.unfix(),(g??=new Set).delete(n))),n!==r){if(i!==void 0&&i.has(n)){if(c.length<h.length){var S=h[0],m;u=S.prev;var y=c[0],H=c[c.length-1];for(m=0;m<c.length;m+=1)U(c[m],S,a);for(m=0;m<h.length;m+=1)i.delete(h[m]);C(e,y.prev,H.next),C(e,u,y),C(e,H,S),r=S,u=H,f-=1,c=[],h=[]}else i.delete(n),U(n,r,a),C(e,n.prev,n.next),C(e,n,u===null?e.first:u.next),C(e,u,n),u=n;continue}for(c=[],h=[];r!==null&&r.k!==T;)(d||!(r.e.f&D))&&(i??=new Set).add(r),h.push(r),r=r.next;if(r===null)continue;n=r}c.push(n),u=n,r=n.next}if(r!==null||i!==void 0){for(var w=i===void 0?[]:F(i);r!==null;)(d||!(r.e.f&D))&&w.push(r),r=r.next;var M=w.length;if(M>0){var W=v&X&&_===0?a:null;if(o){for(f=0;f<M;f+=1)w[f].a?.measure();for(f=0;f<M;f+=1)w[f].a?.fix()}oe(e,w,W,I)}}o&&ae(()=>{if(g!==void 0)for(n of g)n.a?.apply()}),Y.first=e.first&&e.first.e,Y.last=u&&u.e}function he(l,e,a,s){s&L&&q(l.v,e),s&O?q(l.i,a):l.i=a}function P(l,e,a,s,v,d,t,p,o,A){var _=(o&L)!==0,I=(o&de)===0,x=_?I?ve(v):B(v):v,r=o&O?B(t):t,i={i:r,v:x,k:d,a:null,e:null,prev:a,next:s};try{return i.e=K(()=>p(l,x,r),N),i.e.prev=a&&a.e,i.e.next=s&&s.e,a===null?e.first=i:(a.next=i,a.e.next=i.e),s!==null&&(s.prev=i,s.e.prev=i.e),i}finally{}}function U(l,e,a){for(var s=l.next?l.next.e.nodes_start:a,v=e?e.e.nodes_start:a,d=l.e.nodes_start;d!==s;){var t=_e(d);v.before(d),d=t}}function C(l,e,a){e===null?l.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}export{Te as e,pe as i};
